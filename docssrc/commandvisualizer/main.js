(()=>{"use strict";var t={298:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const i=n(r(658)),u=n(r(405)),o=n(r(626)),a=n(r(285)),l=r(609),d=s(r(346)),h=s(r(477)),g=n(r(810)),c=n(r(228)),f=n(r(187)),m=n(r(341)),p=n(r(793)),_=n(r(1)),E=n(r(814)),w=n(r(37)),C=n(r(517)),T=n(r(824)),R=n(r(398)),S=n(r(197)),N=n(r(442)),x=n(r(871)),y=n(r(193)),{word:I,string:O,greedyString:v,bool:A,integer:b,float:M}=l.DefaultType;t.exports={dispatcher:new i.default,word:I,string:O,greedyString:v,bool:A,integer:b,float:M,literal:d.literal,argument:h.argument,CommandDispatcher:i.default,LiteralMessage:u.default,ParseResults:o.default,StringReader:a.default,LiteralArgumentBuilder:d.default,RequiredArgumentBuilder:h.default,CommandContext:g.default,CommandContextBuilder:c.default,ParsedArgument:f.default,ParsedCommandNode:m.default,StringRange:p.default,SuggestionsContext:_.default,CommandSyntaxException:E.default,SimpleCommandExceptionType:C.default,DynamicCommandExceptionType:w.default,Suggestion:T.default,Suggestions:R.default,SuggestionsBuilder:S.default,ArgumentCommandNode:N.default,LiteralCommandNode:x.default,RootCommandNode:y.default}},658:function(t,e,r){var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(s,i){function u(t){try{a(n.next(t))}catch(t){i(t)}}function o(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){t.done?s(t.value):new r((function(e){e(t.value)})).then(u,o)}a((n=n.apply(t,e||[])).next())}))},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(r(626)),u=s(r(228)),o=s(r(814)),a=s(r(398)),l=s(r(197)),d=s(r(193)),h=s(r(285)),g=" ";e.default=class{constructor(t=null){this.consumer={onCommandComplete(){}},this.root=t||new d.default}register(t){let e=t.build();return this.root.addChild(e),e}setConsumer(t){this.consumer=t}execute(t,e=null){let r;if("string"==typeof t&&(t=new h.default(t)),t instanceof h.default?null!=e&&(r=this.parse(t,e)):r=t,r.getReader().canRead())throw 1===r.getExceptions().size?r.getExceptions().values().next().value:r.getContext().getRange().isEmpty()?o.default.BUILT_IN_EXCEPTIONS.dispatcherUnknownCommand().createWithContext(r.getReader()):o.default.BUILT_IN_EXCEPTIONS.dispatcherUnknownArgument().createWithContext(r.getReader());let n=0,s=0,i=!1,u=!1,a=r.getReader().getString(),l=r.getContext().build(a),d=[];d.push(l);let g=null;for(;null!=d;){for(let t=0;t<d.length;t++){let e=d[t],r=e.getChild();if(null!=r){if(i=i||e.isForked(),r.hasNodes()){u=!0;let t=e.getRedirectModifier();if(null==t)null==g&&(g=[]),g.push(r.copyFor(e.getSource()));else try{let n=t.apply(e);if(0!==n.length){null==g&&(g=[]);for(let t of n)g.push(r.copyFor(t))}}catch(t){if(this.consumer.onCommandComplete(e,!1,0),!i)throw t}}}else if(null!=e.getCommand()){u=!0;try{let t=e.getCommand()(e);n+=t,this.consumer.onCommandComplete(e,!0,t),s++}catch(t){if(this.consumer.onCommandComplete(e,!1,0),!i)throw t}}}d=g,g=null}if(!u)throw this.consumer.onCommandComplete(l,!1,0),o.default.BUILT_IN_EXCEPTIONS.dispatcherUnknownCommand().createWithContext(r.getReader());return i?s:n}parse(t,e){"string"==typeof t&&(t=new h.default(t));let r=new u.default(this,e,this.root,t.getCursor());return this.parseNodes(this.root,t,r)}parseNodes(t,e,r){let n=r.getSource(),s=null,a=null,l=e.getCursor();for(let d of t.getRelevantNodes(e)){if(!d.canUse(n))continue;let t=r.copy(),c=new h.default(e);try{if(d.parse(c,t),c.canRead()&&c.peek()!=g)throw o.default.BUILT_IN_EXCEPTIONS.dispatcherExpectedArgumentSeparator().createWithContext(c)}catch(t){null==s&&(s=new Map),s.set(d,t),c.setCursor(l);continue}if(t.withCommand(d.getCommand()),c.canRead(null==d.getRedirect()?2:1)){if(c.skip(),null!=d.getRedirect()){let e=new u.default(this,n,d.getRedirect(),c.getCursor()),r=this.parseNodes(d.getRedirect(),c,e);return t.withChild(r.getContext()),new i.default(t,r.getReader(),r.getExceptions())}{let e=this.parseNodes(d,c,t);null==a&&(a=[]),a.push(e)}}else null==a&&(a=[]),a.push(new i.default(t,c,new Map))}return null!=a?(a.length>1&&a.sort(((t,e)=>!t.getReader().canRead()&&e.getReader().canRead()?-1:t.getReader().canRead()&&!e.getReader().canRead()?1:0===t.getExceptions().size&&0!==e.getExceptions().size?-1:0!==t.getExceptions().size&&0===e.getExceptions().size?1:0)),a[0]):new i.default(r,e,null==s?new Map:s)}getAllUsage(t,e,r){const n=[];return this.__getAllUsage(t,e,n,"",r),n}__getAllUsage(t,e,r,n="",s){if(!s||t.canUse(e))if(null!=t.getCommand()&&r.push(n),null!=t.getRedirect()){const e=t.getRedirect()===this.root?"...":"-> "+t.getRedirect().getUsageText();r.push(0===n.length?t.getUsageText()+g+e:n+g+e)}else if(t.getChildrenCount()>0)for(let i of t.getChildren())this.__getAllUsage(i,e,r,0===n.length?i.getUsageText():n+g+i.getUsageText(),s)}getSmartUsage(t,e){let r=new Map,n=null!==t.getCommand();for(let s of t.getChildren()){let t=this.__getSmartUsage(s,e,n,!1);null!=t&&r.set(s,t)}return r}__getSmartUsage(t,e,r,n){if(!t.canUse(e))return null;let s=r?"["+t.getUsageText()+"]":t.getUsageText(),i=null!=t.getCommand(),u=i?"[":"(",o=i?"]":")";if(!n){if(null!=t.getRedirect()){let e=t.getRedirect()==this.root?"...":"-> "+t.getRedirect().getUsageText();return s+g+e}{let r=[...t.getChildren()].filter((t=>t.canUse(e)));if(1==r.length){let t=this.__getSmartUsage(r[0],e,i,i);if(null!=t)return s+g+t}else if(r.length>1){let t=new Set;for(let n of r){let r=this.__getSmartUsage(n,e,i,!0);null!=r&&t.add(r)}if(1===t.size){let e=t.values().next().value;return s+g+(i?"["+e+"]":e)}if(t.size>1){let t=u,e=0;for(let n of r)e>0&&(t+="|"),t+=n.getUsageText(),e++;if(e>0)return t+=o,s+g+t}}}}return s}getCompletionSuggestions(t,e=t.getReader().getTotalLength()){return n(this,void 0,void 0,(function*(){let r=t.getContext(),n=r.findSuggestionContext(e),s=n.parent,i=Math.min(n.startPos,e),u=t.getReader().getString(),o=u.substring(0,e),d=[];for(let t of s.getChildren()){let e=yield a.default.empty();try{e=yield t.listSuggestions(r.build(o),new l.default(o,i))}catch(t){}d.push(e)}return Promise.resolve(a.default.merge(u,d))}))}getRoot(){return this.root}getPath(t){let e=[];this.addPaths(this.root,e,[]);for(let r of e)if(r[r.length-1]===t){let t=[];for(let e of r)e!==this.root&&t.push(e.getName());return t}return[]}findNode(t){let e=this.root;for(let r of t)if(e=e.getChild(r),null==e)return null;return e}findAmbiguities(t){this.root.findAmbiguities(t)}addPaths(t,e,r){let n=[];n.push(...r),n.push(t),e.push(n);for(let r of t.getChildren())this.addPaths(r,e,n)}}},405:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.str=t}getString(){return this.str}toString(){return this.str}}},626:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(285));e.default=class{constructor(t,e,r){this.context=t,this.reader=e||new s.default(""),this.exceptions=r||new Map}getContext(){return this.context}getReader(){return this.reader}getExceptions(){return this.exceptions}}},285:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(814)),i='"';class u{constructor(t){this.cursor=0,"string"==typeof t?this.string=t:(this.string=t.string,this.cursor=t.cursor)}getString(){return this.string}setCursor(t){this.cursor=t}getRemainingLength(){return this.string.length-this.cursor}getTotalLength(){return this.string.length}getCursor(){return this.cursor}getRead(){return this.string.substring(0,this.cursor)}getRemaining(){return this.string.substring(this.cursor)}canRead(t=1){return this.cursor+t<=this.string.length}peek(t=0){return this.string.charAt(this.cursor+t)}read(){return this.string.charAt(this.cursor++)}skip(){this.cursor++}static isAllowedNumber(t){return t>="0"&&t<="9"||"."==t||"-"==t||"+"==t||"e"==t||"E"==t}skipWhitespace(){for(;this.canRead()&&/\s/.test(this.peek());)this.skip()}readInt(){let t=this.cursor;for(;this.canRead()&&u.isAllowedNumber(this.peek());)this.skip();let e=this.string.substring(t,this.cursor);if(0===e.length)throw s.default.BUILT_IN_EXCEPTIONS.readerExpectedInt().createWithContext(this);const r=parseInt(e);if(isNaN(r)||r!==parseFloat(e))throw this.cursor=t,s.default.BUILT_IN_EXCEPTIONS.readerInvalidInt().createWithContext(this,e);return r}readFloat(){let t=this.cursor;for(;this.canRead()&&u.isAllowedNumber(this.peek());)this.skip();let e=this.string.substring(t,this.cursor);if(0===e.length)throw s.default.BUILT_IN_EXCEPTIONS.readerExpectedFloat().createWithContext(this);const r=parseFloat(e),n=parseFloat(e.substring(r.toString().length,this.cursor));if(isNaN(r)||!isNaN(n)&&0!==n)throw this.cursor=t,s.default.BUILT_IN_EXCEPTIONS.readerInvalidFloat().createWithContext(this,e);return r}static isAllowedInUnquotedString(t){return t>="0"&&t<="9"||t>="A"&&t<="Z"||t>="a"&&t<="z"||"_"==t||"-"==t||"."==t||"+"==t}readUnquotedString(){let t=this.cursor;for(;this.canRead()&&u.isAllowedInUnquotedString(this.peek());)this.skip();return this.string.substring(t,this.cursor)}readQuotedString(){if(!this.canRead())return"";if(this.peek()!=i)throw s.default.BUILT_IN_EXCEPTIONS.readerExpectedStartOfQuote().createWithContext(this);this.skip();let t="",e=!1;for(;this.canRead();){let r=this.read();if(e){if(r!=i&&"\\"!=r)throw this.setCursor(this.getCursor()-1),s.default.BUILT_IN_EXCEPTIONS.readerInvalidEscape().createWithContext(this,r);t+=r,e=!1}else if("\\"==r)e=!0;else{if(r==i)return t;t+=r}}throw s.default.BUILT_IN_EXCEPTIONS.readerExpectedEndOfQuote().createWithContext(this)}readString(){return this.canRead()&&this.peek()===i?this.readQuotedString():this.readUnquotedString()}readBoolean(){let t=this.cursor,e=this.readString();if(0===e.length)throw s.default.BUILT_IN_EXCEPTIONS.readerExpectedBool().createWithContext(this);if("true"===e)return!0;if("false"===e)return!1;throw this.cursor=t,s.default.BUILT_IN_EXCEPTIONS.readerInvalidBool().createWithContext(this,e)}expect(t){if(!this.canRead()||this.peek()!==t)throw s.default.BUILT_IN_EXCEPTIONS.readerExpectedSymbol().createWithContext(this,t);this.skip()}}e.default=u},609:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(763)),i=n(r(425)),u=n(r(952)),o=n(r(749));e.DefaultType={bool:s.default.bool,integer:i.default.integer,float:u.default.float,word:o.default.word,string:o.default.string,greedyString:o.default.greedyString}},763:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const r=["true","false"];class n{constructor(){}static bool(){return new n}static getBool(t,e){return t.getArgument(e,Boolean)}parse(t){return t.readBoolean()}listSuggestions(t,e){return"true".startsWith(e.getRemaining().toLowerCase())&&e.suggest("true"),"false".startsWith(e.getRemaining().toLowerCase())&&e.suggest("false"),e.buildPromise()}getExamples(){return r}}e.default=n},952:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(814)),i=["0","1.2",".5","-1","-.5","-1234.56"];class u{constructor(t,e){this.minimum=t,this.maximum=e}static float(t=-1/0,e=1/0){return new u(t,e)}static getFloat(t,e){return t.getArgument(e,Number)}getMinimum(){return this.minimum}getMaximum(){return this.maximum}parse(t){let e=t.getCursor(),r=t.readFloat();if(r<this.minimum)throw t.setCursor(e),s.default.BUILT_IN_EXCEPTIONS.integerTooLow().createWithContext(t,r,this.minimum);if(r>this.maximum)throw t.setCursor(e),s.default.BUILT_IN_EXCEPTIONS.integerTooHigh().createWithContext(t,r,this.maximum);return r}equals(t){return this===t||t instanceof u&&this.maximum==t.maximum&&this.minimum==t.minimum}toString(){return this.minimum===-1/0&&this.maximum===1/0?"float()":this.maximum==1/0?"float("+this.minimum+")":"float("+this.minimum+", "+this.maximum+")"}getExamples(){return i}}e.default=u},425:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(814)),i=["0","123","-123"];class u{constructor(t,e){this.minimum=t,this.maximum=e}static integer(t=-1/0,e=1/0){return new u(t,e)}static getInteger(t,e){return t.getArgument(e,Number)}getMinimum(){return this.minimum}getMaximum(){return this.maximum}parse(t){let e=t.getCursor(),r=t.readInt();if(r<this.minimum)throw t.setCursor(e),s.default.BUILT_IN_EXCEPTIONS.integerTooLow().createWithContext(t,r,this.minimum);if(r>this.maximum)throw t.setCursor(e),s.default.BUILT_IN_EXCEPTIONS.integerTooHigh().createWithContext(t,r,this.maximum);return r}equals(t){return this===t||t instanceof u&&this.maximum==t.maximum&&this.minimum==t.minimum}toString(){return this.minimum===-1/0&&this.maximum===1/0?"integer()":this.maximum==1/0?"integer("+this.minimum+")":"integer("+this.minimum+", "+this.maximum+")"}getExamples(){return i}}e.default=u},749:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(285));var i;!function(t){t.SINGLE_WORD="words_with_underscores",t.QUOTABLE_PHRASE='"quoted phrase"',t.GREEDY_PHRASE="words with spaces"}(i=e.StringType||(e.StringType={}));class u{constructor(t){this.type=t}static word(){return new u(i.SINGLE_WORD)}static string(){return new u(i.QUOTABLE_PHRASE)}static greedyString(){return new u(i.GREEDY_PHRASE)}static getString(t,e){return t.getArgument(e,String)}getType(){return this.type}parse(t){if(this.type==i.GREEDY_PHRASE){let e=t.getRemaining();return t.setCursor(t.getTotalLength()),e}return this.type==i.SINGLE_WORD?t.readUnquotedString():t.readString()}toString(){return"string()"}static escapeIfRequired(t){for(let e of t)if(!s.default.isAllowedInUnquotedString(e))return u.escape(t);return t}static escape(t){let e='"';for(let r=0;r<t.length;r++){const n=t.charAt(r);"\\"!=n&&'"'!=n||(e+="\\"),e+=n}return e+='"',e}}e.default=u},528:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(758)),i=n(r(193));e.default=class{constructor(){this.args=new i.default,this.modifier=null}then(t){if(null!=this.target)throw new Error("Cannot add children to a redirected node");return t instanceof s.default?this.args.addChild(t):this.args.addChild(t.build()),this.getThis()}getArguments(){return this.args.getChildren()}executes(t){return this.command=t,this.getThis()}getCommand(){return this.command}requires(t){return this.requirement=t,this.getThis()}getRequirement(){return this.requirement}redirect(t,e){return this.forward(t,null==e?null:t=>[e.apply(t)],!1)}fork(t,e){return this.forward(t,e,!0)}forward(t,e,r){if(this.args.getChildrenCount()>0)throw new Error("Cannot forward a node with children");return this.target=t,this.modifier=e,this.forks=r,this.getThis()}getRedirect(){return this.target}getRedirectModifier(){return this.modifier}isFork(){return this.forks}}},346:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(871)),i=n(r(528));class u extends i.default{constructor(t){super(),this.literal=t}static literal(t){return new u(t)}getThis(){return this}getLiteral(){return this.literal}build(){let t=new s.default(this.getLiteral(),this.getCommand(),this.getRequirement(),this.getRedirect(),this.getRedirectModifier(),this.isFork());for(let e of this.getArguments())t.addChild(e);return t}}e.default=u,e.literal=u.literal},477:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(442)),i=n(r(528));class u extends i.default{constructor(t,e){super(),this.name=t,this.type=e}static argument(t,e){return new u(t,e)}suggests(t){return this.suggestionsProvider=t,this.getThis()}getSuggestionsProvider(){return this.suggestionsProvider}getThis(){return this}getType(){return this.type}getName(){return this.name}build(){let t=new s.default(this.getName(),this.getType(),this.getCommand(),this.getRequirement(),this.getRedirect(),this.getRedirectModifier(),this.isFork(),this.getSuggestionsProvider());for(let e of this.getArguments())t.addChild(e);return t}}e.default=u,e.argument=u.argument},810:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(774));class i{constructor(t,e,r,n,s,i,u,o,a,l){this.source=t,this.input=e,this.args=r,this.command=n,this.rootNode=s,this.nodes=i,this.range=u,this.child=o,this.modifier=a,this.forks=l}copyFor(t){return this.source===t?this:new i(t,this.input,this.args,this.command,this.rootNode,this.nodes,this.range,this.child,this.modifier,this.forks)}getChild(){return this.child}getLastChild(){let t=this;for(;null!=t.getChild();)t=t.getChild();return t}getCommand(){return this.command}getSource(){return this.source}getArgument(t,e){const r=this.args.get(t);if(null==r)throw new Error("No such argument '"+t+"' exists on this command");let n=r.getResult();return null==e?n:e(n)}equals(t){return this===t||t instanceof i&&!!s.default(this.args,t.args)&&!!this.rootNode.equals(t.rootNode)&&!(this.nodes.length!=t.nodes.length||!s.default(this.nodes,t.nodes))&&!!(null!=this.command?s.default(this.command,t.command):null==t.command)&&!!s.default(this.source,t.source)&&!!(null!=this.child?this.child.equals(t.child):null==t.child)}getRedirectModifier(){return this.modifier}getRange(){return this.range}getInput(){return this.input}getRootNode(){return this.rootNode}getNodes(){return this.nodes}hasNodes(){return this.nodes.length>=0}isForked(){return this.forks}}e.default=i},228:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(793)),i=n(r(810)),u=n(r(1)),o=n(r(341));class a{constructor(t,e,r,n){this.args=new Map,this.nodes=[],this.modifier=null,this.rootNode=r,this.dispatcher=t,this.source=e,this.range=s.default.at(n)}withSource(t){return this.source=t,this}getSource(){return this.source}getRootNode(){return this.rootNode}withArgument(t,e){return this.args.set(t,e),this}getArguments(){return this.args}withCommand(t){return this.command=t,this}withNode(t,e){return this.nodes.push(new o.default(t,e)),this.range=s.default.encompassing(this.range,e),this.modifier=t.getRedirectModifier(),this.forks=t.isFork(),this}copy(){const t=new a(this.dispatcher,this.source,this.rootNode,this.range.getStart());return t.command=this.command,t.args=new Map([...t.args,...this.args]),t.nodes.push(...this.nodes),t.child=this.child,t.range=this.range,t.forks=this.forks,t}withChild(t){return this.child=t,this}getChild(){return this.child}getLastChild(){let t=this;for(;null!=t.getChild();)t=t.getChild();return t}getCommand(){return this.command}getNodes(){return this.nodes}build(t){return new i.default(this.source,t,this.args,this.command,this.rootNode,this.nodes,this.range,null==this.child?null:this.child.build(t),this.modifier,this.forks)}getDispatcher(){return this.dispatcher}getRange(){return this.range}findSuggestionContext(t){if(this.range.getStart()<=t){if(this.range.getEnd()<t){if(null!=this.child)return this.child.findSuggestionContext(t);if(this.nodes.length>0){let t=this.nodes[this.nodes.length-1];return new u.default(t.getNode(),t.getRange().getEnd()+1)}return new u.default(this.rootNode,this.range.getStart())}{let e=this.rootNode;for(let r of this.nodes){let n=r.getRange();if(n.getStart()<=t&&t<=n.getEnd())return new u.default(e,n.getStart());e=r.getNode()}if(null==e)throw new Error("Can't find node before cursor");return new u.default(e,this.range.getStart())}}throw new Error("Can't find node before cursor")}}e.default=a},187:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(793));class i{constructor(t,e,r){this.range=s.default.between(t,e),this.result=r}getRange(){return this.range}getResult(){return this.result}equals(t){return this===t||t instanceof i&&this.range.equals(t.range)&&this.result===t.result}}e.default=i},341:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e){this.node=t,this.range=e}getNode(){return this.node}getRange(){return this.range}toString(){return this.node+"@"+this.range}equals(t){return this===t||null!=t&&t instanceof r&&this.node.equals(t.node)&&this.range.equals(t.range)}}e.default=r},793:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e){this.start=t,this.end=e}static at(t){return new r(t,t)}static between(t,e){return new r(t,e)}static encompassing(t,e){return new r(Math.min(t.getStart(),e.getStart()),Math.max(t.getEnd(),e.getEnd()))}getStart(){return this.start}getEnd(){return this.end}get(t){return"string"==typeof t?t.substring(this.start,this.end):t.getString().substring(this.start,this.end)}isEmpty(){return this.start===this.end}getLength(){return this.end-this.start}equals(t){return this===t||t instanceof r&&this.start===t.start&&this.end==t.end}toString(){return"StringRange{start="+this.start+", end="+this.end+"}"}}e.default=r},1:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e){this.parent=t,this.startPos=e}}},288:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(405)),i=n(r(517)),u=n(r(37));class o{floatTooLow(){return o.FLOAT_TOO_SMALL}floatTooHigh(){return o.FLOAT_TOO_BIG}integerTooLow(){return o.INTEGER_TOO_SMALL}integerTooHigh(){return o.INTEGER_TOO_BIG}literalIncorrect(){return o.LITERAL_INCORRECT}readerExpectedStartOfQuote(){return o.READER_EXPECTED_START_OF_QUOTE}readerExpectedEndOfQuote(){return o.READER_EXPECTED_END_OF_QUOTE}readerInvalidEscape(){return o.READER_INVALID_ESCAPE}readerInvalidBool(){return o.READER_INVALID_BOOL}readerInvalidInt(){return o.READER_INVALID_INT}readerExpectedInt(){return o.READER_EXPECTED_INT}readerInvalidFloat(){return o.READER_INVALID_FLOAT}readerExpectedFloat(){return o.READER_EXPECTED_FLOAT}readerExpectedBool(){return o.READER_EXPECTED_BOOL}readerExpectedSymbol(){return o.READER_EXPECTED_SYMBOL}dispatcherUnknownCommand(){return o.DISPATCHER_UNKNOWN_COMMAND}dispatcherUnknownArgument(){return o.DISPATCHER_UNKNOWN_ARGUMENT}dispatcherExpectedArgumentSeparator(){return o.DISPATCHER_EXPECTED_ARGUMENT_SEPARATOR}dispatcherParseException(){return o.DISPATCHER_PARSE_EXCEPTION}}o.FLOAT_TOO_SMALL=new u.default(((t,e)=>new s.default("Float must not be less than "+e+", found "+t))),o.FLOAT_TOO_BIG=new u.default(((t,e)=>new s.default("Float must not be more than "+e+", found "+t))),o.INTEGER_TOO_SMALL=new u.default(((t,e)=>new s.default("Integer must not be less than "+e+", found "+t))),o.INTEGER_TOO_BIG=new u.default(((t,e)=>new s.default("Integer must not be more than "+e+", found "+t))),o.LITERAL_INCORRECT=new u.default((t=>new s.default("Expected literal "+t))),o.READER_EXPECTED_START_OF_QUOTE=new i.default(new s.default("Expected quote to start a string")),o.READER_EXPECTED_END_OF_QUOTE=new i.default(new s.default("Unclosed quoted string")),o.READER_INVALID_ESCAPE=new u.default((t=>new s.default("Invalid escape sequence '"+t+"' in quoted string"))),o.READER_INVALID_BOOL=new u.default((t=>new s.default("Invalid bool, expected true or false but found '"+t+"'"))),o.READER_INVALID_INT=new u.default((t=>new s.default("Invalid integer '"+t+"'"))),o.READER_EXPECTED_INT=new i.default(new s.default("Expected integer")),o.READER_INVALID_FLOAT=new u.default((t=>new s.default("Invalid float '"+t+"'"))),o.READER_EXPECTED_FLOAT=new i.default(new s.default("Expected float")),o.READER_EXPECTED_BOOL=new i.default(new s.default("Expected bool")),o.READER_EXPECTED_SYMBOL=new u.default((t=>new s.default("Expected '"+t+"'"))),o.DISPATCHER_UNKNOWN_COMMAND=new i.default(new s.default("Unknown command")),o.DISPATCHER_UNKNOWN_ARGUMENT=new i.default(new s.default("Incorrect argument for command")),o.DISPATCHER_EXPECTED_ARGUMENT_SEPARATOR=new i.default(new s.default("Expected whitespace to end one argument, but found trailing data")),o.DISPATCHER_PARSE_EXCEPTION=new u.default((t=>new s.default("Could not parse command: "+t))),e.default=o},814:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(288));class i extends Error{constructor(t,e,r=null,n=-1){super(e.getString()),Error.captureStackTrace(this,i),this.type=t,this.__message=e,this.input=r,this.cursor=n,this.message=this.getMessage()}getMessage(){let t=this.__message.getString(),e=this.getContext();return null!=e&&(t+=" at position "+this.cursor+": "+e),t}getRawMessage(){return this.__message}getContext(){if(null==this.input||this.cursor<0)return null;let t="",e=Math.min(this.input.length,this.cursor);return e>i.CONTEXT_AMOUNT&&(t+="..."),t+=this.input.substring(Math.max(0,e-i.CONTEXT_AMOUNT),e),t+="<--[HERE]",t}getType(){return this.type}getInput(){return this.input}getCursor(){return this.cursor}toString(){return this.message}}i.CONTEXT_AMOUNT=10,i.BUILT_IN_EXCEPTIONS=new s.default,e.default=i},37:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(814));class i{constructor(t){this.fn=t,Error.captureStackTrace(this,i)}create(...t){return new s.default(this,this.fn(...t))}createWithContext(t,...e){return new s.default(this,this.fn(...e),t.getString(),t.getCursor())}}e.default=i},517:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(814));class i{constructor(t){this.message=t,Error.captureStackTrace(this,i)}create(){return new s.default(this,this.message)}createWithContext(t){return new s.default(this,this.message,t.getString(),t.getCursor())}toString(){return this.message.getString()}}e.default=i},581:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(824));class i extends s.default{constructor(t,e,r=null){super(t,e.toString(),r),this.value=e}getValue(){return this.value}equals(t){return this===t||t instanceof i&&this.value==t.value&&super.equals(t)}toString(){return"IntegerSuggestion{value="+this.value+", range="+this.getRange()+", text='"+this.getText()+"', tooltip='"+this.getTooltip()+"'}"}compareTo(t){return t instanceof i?this.value<t.value?1:-1:super.compareTo(t)}compareToIgnoreCase(t){return this.compareTo(t)}}e.default=i},824:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(774));class i{constructor(t,e,r=null){this.range=t,this.text=e,this.tooltip=r}getRange(){return this.range}getText(){return this.text}getTooltip(){return this.tooltip}apply(t){if(0===this.range.getStart()&&this.range.getEnd()==t.length)return this.text;let e="";return this.range.getStart()>0&&(e+=t.substring(0,this.range.getStart())),e+=this.text,this.range.getEnd()<t.length&&(e+=t.substring(this.range.getEnd())),e}equals(t){return this===t||t instanceof i&&s.default(this.range,t.range)&&this.text===t.text&&s.default(this.tooltip,t.tooltip)}toString(){return"Suggestion{range="+this.range+", text='"+this.text+"', tooltip='"+this.tooltip+"'}"}compareTo(t){return this.text<t.text?1:-1}compareToIgnoreCase(t){return this.text.toLowerCase()<t.text.toLowerCase()?1:-1}expand(t,e){if(e.equals(this.range))return this;let r="";return e.getStart()<this.range.getStart()&&(r+=t.substring(e.getStart(),this.range.getStart())),r+=this.text,e.getEnd()>this.range.getEnd()&&(r+=t.substring(this.range.getEnd(),e.getEnd())),new i(e,r,this.tooltip)}}e.default=i},398:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(774)),i=n(r(793));class u{constructor(t,e){this.range=t,this.suggestions=e}getRange(){return this.range}getList(){return this.suggestions}isEmpty(){return 0===this.suggestions.length}equals(t){return this===t||t instanceof u&&this.range.equals(t.range)&&s.default(this.suggestions,t.suggestions)}toString(){return"Suggestions{range="+this.range+", suggestions="+this.suggestions+"}"}static empty(){return Promise.resolve(this.EMPTY)}static merge(t,e){if(0===e.length)return this.EMPTY;if(1===e.length)return e[0];const r=[];for(let t of e)r.push(...t.getList());return u.create(t,r)}static create(t,e){if(0===e.length)return this.EMPTY;let r=1/0,n=-1/0;for(let t of e)r=Math.min(t.getRange().getStart(),r),n=Math.max(t.getRange().getEnd(),n);let s=new i.default(r,n);const o=[];for(let r of e)o.push(r.expand(t,s));const a=o.sort(((t,e)=>t.compareToIgnoreCase(e)));return new u(s,a)}}u.EMPTY=new u(i.default.at(0),[]),e.default=u},197:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(793)),i=n(r(824)),u=n(r(398)),o=n(r(581));class a{constructor(t,e){this.result=[],this.input=t,this.start=e,this.remaining=t.substring(e)}getInput(){return this.input}getStart(){return this.start}getRemaining(){return this.remaining}build(){return u.default.create(this.input,this.result)}buildPromise(){return Promise.resolve(this.build())}suggest(t,e=null){return"number"==typeof t?(this.result.push(new o.default(s.default.between(this.start,this.input.length),t,e)),this):(t===this.remaining||this.result.push(new i.default(s.default.between(this.start,this.input.length),t,e)),this)}add(t){return this.result.push(...t.result),this}createOffset(t){return new a(this.input,this.start)}restart(){return new a(this.input,this.start)}}e.default=a},442:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(774)),i=n(r(285)),u=n(r(477)),o=n(r(187)),a=n(r(398)),l=n(r(758));class d extends l.default{constructor(t,e,r,n,s,i,u,o){super(r,n,s,i,u),this.name=t,this.type=e,this.customSuggestions=o}getNodeType(){return"argument"}getType(){return this.type}getName(){return this.name}getUsageText(){return"<"+this.name+">"}getCustomSuggestions(){return this.customSuggestions}parse(t,e){let r=t.getCursor(),n=this.type.parse(t),s=new o.default(r,t.getCursor(),n);e.withArgument(this.name,s),e.withNode(this,s.getRange())}listSuggestions(t,e){return null==this.customSuggestions?"function"==typeof this.type.listSuggestions?this.type.listSuggestions(t,e):a.default.empty():this.customSuggestions.getSuggestions(t,e)}createBuilder(){let t=u.default.argument(this.name,this.type);return t.requires(this.getRequirement()),t.forward(this.getRedirect(),this.getRedirectModifier(),this.isFork()),t.suggests(this.customSuggestions),null!=this.getCommand()&&t.executes(this.getCommand()),t}isValidInput(t){try{let e=new i.default(t);return this.type.parse(e),!e.canRead()||" "==e.peek()}catch(t){}return!1}equals(t){return this===t||t instanceof d&&this.name===t.name&&!!s.default(this.type,t.type)&&super.equals(t)}getSortedKey(){return this.name}getExamples(){return"function"==typeof this.type.getExamples?this.type.getExamples():[]}toString(){return"<argument "+this.name+":"+this.type+">"}}e.default=d},758:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(774));class i{constructor(t,e,r,n,s){this.children=new Map,this.literals=new Map,this.args=new Map,this.command=t,this.requirement=e||(()=>!0),this.redirect=r,this.modifier=n,this.forks=s}getCommand(){return this.command}getChildren(){return this.children.values()}getChildrenCount(){return this.children.size}getChild(t){return this.children.get(t)}getRedirect(){return this.redirect}getRedirectModifier(){return this.modifier}canUse(t){return this.requirement(t)}addChild(t){if("root"===t.getNodeType())throw new Error("Cannot add a RootCommandNode as a child to any other CommandNode");let e=this.children.get(t.getName());if(null!=e){null!=t.getCommand()&&(e.command=t.getCommand());for(let r of t.getChildren())e.addChild(r)}else this.children.set(t.getName(),t),"literal"===t.getNodeType()?this.literals.set(t.getName(),t):"argument"===t.getNodeType()&&this.args.set(t.getName(),t);this.children=new Map([...this.children.entries()].sort(((t,e)=>t[1].compareTo(e[1]))))}findAmbiguities(t){let e=[];for(let r of this.children.values()){for(let n of this.children.values())if(r!==n){for(let t of r.getExamples())n.isValidInput(t)&&e.push(t);e.length>0&&(t.ambiguous(this,r,n,e),e=[])}r.findAmbiguities(t)}}equals(t){return this===t||t instanceof i&&this.children.size===t.children.size&&!!s.default(this.children,t.children)&&!!(null!=this.command?s.default(this.command,t.command):null==t.command)}getRequirement(){return this.requirement}getRelevantNodes(t){if(this.literals.size>0){let e=t.getCursor();for(;t.canRead()&&" "!=t.peek();)t.skip();let r=t.getString().substring(e,t.getCursor());t.setCursor(e);let n=this.literals.get(r);return null!=n?[n]:this.args.values()}return this.args.values()}compareTo(t){return this.getNodeType()===t.getNodeType()?this.getSortedKey()>t.getSortedKey()?1:-1:"literal"===t.getNodeType()?1:-1}isFork(){return this.forks}}e.default=i},871:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(758)),i=n(r(285)),u=n(r(346)),o=n(r(793)),a=n(r(814)),l=n(r(398));class d extends s.default{constructor(t,e,r,n,s,i){super(e,r,n,s,i),this.literal=t}getNodeType(){return"literal"}getLiteral(){return this.literal}getName(){return this.literal}parse(t,e){let r=t.getCursor(),n=this.__parse(t);if(!(n>-1))throw a.default.BUILT_IN_EXCEPTIONS.literalIncorrect().createWithContext(t,this.literal);e.withNode(this,o.default.between(r,n))}__parse(t){let e=t.getCursor();if(t.canRead(this.literal.length)){let r=e+this.literal.length;if(t.getString().substring(e,r)===this.literal){if(t.setCursor(r),!t.canRead()||" "==t.peek())return r;t.setCursor(e)}}return-1}listSuggestions(t,e){return this.literal.toLowerCase().startsWith(e.getRemaining().toLowerCase())?e.suggest(this.literal).buildPromise():l.default.empty()}isValidInput(t){return this.__parse(new i.default(t))>-1}equals(t){return this===t||t instanceof d&&this.literal===t.literal&&super.equals(t)}getUsageText(){return this.literal}createBuilder(){let t=u.default.literal(this.literal);return t.requires(this.getRequirement()),t.forward(this.getRedirect(),this.getRedirectModifier(),this.isFork()),null!=this.getCommand()&&t.executes(this.getCommand()),t}getSortedKey(){return this.literal}getExamples(){return[this.literal]}toString(){return"<literal "+this.literal+">"}}e.default=d},193:function(t,e,r){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(r(758)),i=n(r(398));class u extends s.default{constructor(){super(null,(t=>!0),null,(t=>t.getSource()),!1)}getNodeType(){return"root"}getName(){return""}getUsageText(){return""}parse(t,e){}listSuggestions(t,e){return i.default.empty()}isValidInput(t){return!1}equals(t){return this===t||t instanceof u&&super.equals(t)}createBuilder(){throw new Error("Cannot convert root into a builder")}getSortedKey(){return""}getExamples(){return[]}toString(){return"<root>"}}e.default=u},774:(t,e)=>{function r(t,e){return t===e||typeof t==typeof e&&t instanceof Object&&("function"==typeof t?t.toString()===e.toString():t.constructor===e.constructor&&(t instanceof Map?function(t,e){if(t.size!=e.size)return!1;for(let[n,s]of t){const t=e.get(n);if(!r(t,s))return!1;if(void 0===t&&!e.has(n))return!1}return!0}(t,e):t instanceof Set?n([...t],[...e]):t instanceof Array?n(t,e):"object"==typeof t&&function(t,e){const n=Object.keys(t),s=Object.keys(e);return n.length==s.length&&!!n.every((t=>e.hasOwnProperty(t)))&&n.every((n=>r(t[n],e[n])))}(t,e)))}function n(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}(()=>{var t=r(298);class e{constructor(t=0,e=0,r=0){this.x=t,this.y=e,this.z=r}parse(t){return this.x=t.readInt(),t.skip(),this.y=t.readInt(),t.skip(),this.z=t.readInt(),this}listSuggestions(t,e){return Suggestions.empty()}getExamples(){return["1 2 3"]}}const n=document.getElementById("cmd-input"),s=document.getElementById("cmd-input-autocomplete"),i=document.getElementById("error-box"),u=document.getElementById("suggestions-box"),o=new t.CommandDispatcher,a={0:"black",1:"dark_blue",2:"dark_green",3:"dark_aqua",4:"dark_red",5:"dark_purple",6:"gold",7:"gray",8:"dark_gray",9:"blue",a:"green",b:"aqua",c:"red",d:"light_purple",e:"yellow",f:"white"},l={};for(let t in a)l[a[t]]=t;class d{constructor(t,e){this.nodeName=t}getRange(t){return t.context.args.get(this.nodeName)?.range??{start:0,end:0}}}function h(){const t=document.getSelection();t.modify("extend","backward","paragraphboundary");const e=t.toString().length;return void 0!==t.anchorNode&&null!==t.anchorNode&&t.collapseToEnd(),e}function g(t,e){if(t>=0){const r=(t,e,n)=>{if(n||((n=document.createRange()).selectNode(t),n.setStart(t,0)),0===e.count)n.setEnd(t,e.count);else if(t&&e.count>0)if(t.nodeType===Node.TEXT_NODE)t.textContent.length<e.count?e.count-=t.textContent.length:(n.setEnd(t,e.count),e.count=0);else for(let s=0;s<t.childNodes.length&&(n=r(t.childNodes[s],e,n),0!==e.count);s++);return n};let n=r(e,{count:t});if(n){n.collapse(!1);let t=window.getSelection();t.removeAllRanges(),t.addRange(n)}}}function c(t,e=null){if(e||(e=n),e.innerHTML="",e===n){let t=document.createElement("span");t.innerText="/",e.appendChild(t)}let r="",s="";function i(){if(r.length>0){let t=document.createElement("span");t.className=s,t.innerText=r,e.appendChild(t),r=""}}for(let e=0;e<t.length;e++)"§"!==t[e]?r+=t[e]:(i(),s=a[t[e+1]],e++);i()}!function(r){r.split(" ")[0];const n=r.split(" ").slice(1),s=RegExp(/\((\w+(?:\|\w+)*)\)/),i=RegExp(/<(\w+)>\[([a-z:_]+|(?:[0-9\.]+)?\.\.(?:[0-9\.]+)?)\]/);for(let t of n){const e=t.match(s),r=t.match(i);if(e){const t=e[1].split("|");console.log(t)}else r&&(r[1],r[2])}o.register((0,t.literal)("fill").then((0,t.argument)("pos1",new e).then((0,t.argument)("pos2",new e).then((0,t.argument)("block",(0,t.string)()).executes((t=>(console.log(t.getArgument("pos1")),console.log(t.getArgument("pos2")),console.log(t.getArgument("block")),0)))))));const u=o.parse("fill 3 4 5 10 11 12 air",{});console.log(u),console.log(new d("pos1","").getRange(u));try{o.execute(u)}catch(t){console.error(t)}}("speed (walk|fly) <speed>[0..10] <target>[minecraft:game_profile]"),n.oninput=function(){let t=h(),e=["say","tp","w","weather","whitelist","worldborder"],r=n.innerText.replace("\n",""),s="",o=[];if(r.startsWith("/")){const t=r.slice(1),n=t.split(" ")[0],i=r.split(" ").slice(1);e.some((t=>t===n))?c(n+(i.length>0?" §b"+i.join(" "):"")):(c("§c"+t),s="Unknown or incomplete command, see below for error at position 1: /<--[HERE]"),o=e.filter((e=>e.startsWith(t)&&e!==t))}if(0===t&&r.length>0&&(t=1),g(t,n),n.focus(),0!==s.length?(i.innerText=s,i.hidden=!1):i.hidden=!0,0!==o.length){u.innerHTML="";for(let t of(t=>{let e=[];for(let r=0;r<t.length;r++){const n=document.createElement("span");n.innerText=t[r],0===r&&(n.className="yellow"),r!==t.length-1&&(n.innerText+="\n"),e.push(n)}return e})(o))u.appendChild(t);u.hidden=!1,i.hidden=!0}else u.hidden=!0;window.dispatchEvent(new Event("suggestionsUpdated"))},n.addEventListener("keydown",(t=>{switch(t.key){case"Enter":t.preventDefault();break;case"ArrowDown":case"ArrowUp":if(!u.hidden)for(let e=0;e<u.childNodes.length;e++)if("yellow"===u.childNodes[e].className){u.childNodes[e].className="","ArrowDown"==t.key?e===u.childNodes.length-1?u.childNodes[0].className="yellow":u.childNodes[e+1].className="yellow":0===e?u.childNodes[u.childNodes.length-1].className="yellow":u.childNodes[e-1].className="yellow",window.dispatchEvent(new Event("suggestionsUpdated"));break}break;case"Backspace":0===n.innerText.replace("\n","").length&&t.preventDefault();break;case"Tab":t.preventDefault(),c(function(t=!0){let e="";for(let r of n.children)r.className&&t&&(e+="§"+l[r.className]),e+=r.innerText;return e}(!1).slice(1)+s.innerText),document.getElementById("cmd-input").oninput(),g(n.innerText.length,n)}})),window.addEventListener("suggestionsUpdated",(t=>{let e=n.innerText;if(u.hidden)c("",s);else{let t=document.querySelector(".yellow").innerText.trim();if(e!==t){let r=h();c("§8"+t.slice(e.length-1),s),g(r,n),n.focus()}else c("",s)}})),document.getElementById("chatbox").onclick=function(){document.getElementById("cmd-input").focus()},n.oninput()})()})();
//# sourceMappingURL=main.js.map