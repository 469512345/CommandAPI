<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>1.13 CommandAPI: Documentation for v1.8</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">1.13 CommandAPI
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">An API for the command UI introduced in Minecraft 1.13</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_v1_88__documentation.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Documentation for v1.8 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>An API to use the new command UI introduced in Minecraft 1.13</p>
<h1>Contents</h1>
<ul>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#installation-for-server-owners">Installation for server owners</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#using-the-commandapi-in-your-projects-for-developers">Using the CommandAPI in your projects</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#configyml">Config.yml</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#basic-usage-for-developers">Basic usage (for developers)</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#command-registration">Command registration</a><ul>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#command-loading-order">Command loading order</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#command-unregistration">Command unregistration</a></li>
</ul>
</li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#arguments">Arguments</a><ul>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#argument-casting">Argument Casting</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#ranged-arguments">Ranged Arguments</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#location-arguments">Location Arguments</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#entity-selector-arguments">Entity Selector Arguments</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#chat-component-arguments">Chat Component Arguments</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#literal-arguments-suggested-string-arguments--dynamic-suggested-string-arguments">Literal Arguments, Suggested String Arguments &amp; Dynamic Suggested String Arguments</a><ul>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#literal-arguments">Literal Arguments</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#suggestedstringarguments">SuggestedStringArguments</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#dynamic-suggested-string-arguments">Dynamic Suggested String Arguments</a></li>
</ul>
</li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#strings-greedy-strings-and-text-arguments">Strings, Greedy Strings and Text arguments</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#multiple-command-arguments">Multiple command arguments</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#overriding-argument-suggestions">Overriding Argument Suggestions</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#argument-permissions">Argument Permissions</a></li>
</ul>
</li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#functions--function-arguments">Functions &amp; Function Arguments</a><ul>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#the-functionwrapper-class">The FunctionWrapper class</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#function-command-registration">Function command registration</a></li>
</ul>
</li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#permissions">Permissions</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#commandexecutor">CommandExecutor</a><ul>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#resultingcommandexecutors">ResultingCommandExecutors</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#proxiedcommandsenders">ProxiedCommandSenders</a></li>
</ul>
</li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#command-converter">Command Converter</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#examples-examples-examples">Examples</a><ul>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#give-command">Give Command</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#enchant-command">Enchant Command</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#setblock-command">SetBlock Command</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#message-command">Message Command</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#using-the-chatcomponentargument">Using the ChatComponentArgument</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#dynamicsuggestedstring-example">DynamicSuggestedString Example</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#functions">Functions</a><ul>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#registering-commands-for-minecraft-function-support">Registering commands for Minecraft function support</a></li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#using-a-pre-existing-function-in-your-code">Using a pre-existing function in your code</a></li>
</ul>
</li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#converter">Converter</a></li>
</ul>
</li>
<li><a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#faq">FAQ</a></li>
</ul>
<h1>Installation (For server owners)</h1>
<ul>
<li>Download the v1.8.2 CommandAPI.jar from the download page <a href="https://github.com/JorelAli/1.13-Command-API/releases/tag/v1.8.2">here</a></li>
<li>Place the CommandAPI.jar file in your server's <code>/plugins/</code> folder</li>
<li>That's it!</li>
</ul>
<h1>Config.yml</h1>
<p>Default config.yml:</p>
<div class="fragment"><div class="line">verbose-outputs: true</div>
<div class="line">create-dispatcher-json: true</div>
</div><!-- fragment --><ul>
<li><code>verbose-outputs</code> - Outputs command registration and unregistration in the console</li>
<li><code>create-dispatcher-json</code> - Creates a <code>command_registration.json</code> file showing the mapping of registered commands</li>
</ul>
<h1>Using the CommandAPI in your projects (For developers)</h1>
<h2>Manual Installation with .jar</h2>
<ul>
<li>Download the v1.8.2 CommandAPI.jar from the download page <a href="https://github.com/JorelAli/1.13-Command-API/releases/tag/v1.8.2">here</a></li>
<li>Add the CommandAPI.jar file to your project/environment's build path</li>
<li>Add the plugin as a dependent in the plugin.yml (<code>depend: [CommandAPI]</code>)</li>
</ul>
<h2>Maven</h2>
<ul>
<li>Add the maven repository:</li>
</ul>
<div class="fragment"><div class="line">&lt;repository&gt;</div>
<div class="line">    &lt;id&gt;mccommandapi&lt;/id&gt;</div>
<div class="line">    &lt;url&gt;https://raw.githubusercontent.com/JorelAli/1.13-Command-API/mvn-repo/1.13CommandAPI/&lt;/url&gt;</div>
<div class="line">&lt;/repository&gt;</div>
</div><!-- fragment --><ul>
<li>Add the dependency:</li>
</ul>
<div class="fragment"><div class="line">&lt;dependency&gt;</div>
<div class="line">    &lt;groupId&gt;io.github.jorelali&lt;/groupId&gt;</div>
<div class="line">    &lt;artifactId&gt;commandapi&lt;/artifactId&gt;</div>
<div class="line">    &lt;version&gt;1.8.2&lt;/version&gt;</div>
<div class="line">&lt;/dependency&gt;</div>
</div><!-- fragment --><h1>Basic usage (For developers)</h1>
<ul>
<li>Generate a <code>LinkedHashMap&lt;String, Argument&gt;</code> to store your arguments for your command. The insertion order IS IMPORTANT.</li>
</ul>
<div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; args = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">args.put(<span class="stringliteral">&quot;time&quot;</span>, <span class="keyword">new</span> IntegerArgument());</div>
</div><!-- fragment --><ul>
<li>Register your command using the CommandAPI instance</li>
</ul>
<div class="fragment"><div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;mycommand&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    <span class="keywordflow">if</span>(sender instanceof Player) {</div>
<div class="line">      Player player = (Player) sender;</div>
<div class="line">        player.getWorld().setTime((<span class="keywordtype">int</span>) args[0]);</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><h1>Command registration</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">CommandRegistration method </th><th class="markdownTableHeadNone">Outcome  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>CommandAPI.getInstance().register(String, LinkedHashMap, CommandExecutor)</code> </td><td class="markdownTableBodyNone">Basic command registration  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CommandAPI.getInstance().register(String, String[], LinkedHashMap, CommandExecutor)</code> </td><td class="markdownTableBodyNone">Register command with an array of aliases  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>CommandAPI.getInstance().register(String, CommandPermission, LinkedHashMap, CommandExecutor)</code> </td><td class="markdownTableBodyNone">Register command which need certain permissions  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CommandAPI.getInstance().register(String, CommandPermission, String[], LinkedHashMap, CommandExecutor)</code> </td><td class="markdownTableBodyNone">Register command with aliases and permission requirements  </td></tr>
</table>
<p>To see more about <code>CommandPermission</code>, check out the link <a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#commandexecutor">here</a></p>
<p>To see more about <code>CommandExecutor</code>, check out the link <a href="https://github.com/JorelAli/1.13-Command-API/blob/master/docs/olddocs/v1.8%20Documentation.md#commandexecutor">here</a></p>
<h2>Command loading order</h2>
<p><b>Commands must be registered before the server finishes loading</b>. The CommandAPI will prevent command registration after the server has loaded.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">When to load </th><th class="markdownTableHeadNone">What to do  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Plugin <code>onLoad()</code> method </td><td class="markdownTableBodyNone">Register commands to be used in Minecraft functions (see Function section for more info)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Plugin <code>onEnable()</code> method </td><td class="markdownTableBodyNone">Register regular commands  </td></tr>
</table>
<h2>Command unregistration</h2>
<p>The CommandAPI has support to unregister commands completely from Minecraft's command list. This includes Minecraft built in commands!</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Method </th><th class="markdownTableHeadNone">Result  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>CommandAPI.getInstance().unregister(String cmd)</code> </td><td class="markdownTableBodyNone">Unregisters a command from the game  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CommandAPI.getInstance().unregister(String cmd, boolean force)</code> </td><td class="markdownTableBodyNone">Unregisters a command from the game by force. This includes <code>/minecraft:cmd</code>, <code>/bukkit:cmd</code> and <code>/spigot:cmd</code> commands as well.  </td></tr>
</table>
<p><b>Example:</b></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Method </th><th class="markdownTableHeadNone">Outcome  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>CommandAPI.getInstance().unregister("gamemode")</code> </td><td class="markdownTableBodyNone">Unregisters the <code>/gamemode</code> command from the game  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CommandAPI.getInstance().unregister("gamemode", true)</code> </td><td class="markdownTableBodyNone">Force unregisters all <code>/gamemode</code> commands from all plugins, Minecraft, Bukkit and Spigot. This includes <code>/minecraft:gamemode</code>, in addition to any other plugins which register <code>/gamemode</code>  </td></tr>
</table>
<h1>Arguments</h1>
<p>Arguments are found in the <code>io.github.jorelali.commandapi.api.arguments</code> package.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Argument class </th><th class="markdownTableHeadCenter">Bukkit data type </th><th class="markdownTableHeadCenter">Data type </th><th class="markdownTableHeadCenter">Notes  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>new BooleanArgument()</code> </td><td class="markdownTableBodyCenter">❌ </td><td class="markdownTableBodyCenter"><code>boolean</code> </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>new ChatColorArgument()</code> </td><td class="markdownTableBodyCenter">✔️ </td><td class="markdownTableBodyCenter"><code>ChatColor</code> </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>new ChatComponentArgument()</code> </td><td class="markdownTableBodyCenter">✔️* </td><td class="markdownTableBodyCenter"><code>BaseComponent[]</code> </td><td class="markdownTableBodyCenter"><em>Requires Spigot, see below for usage notes  </em></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><em> <code>new DoubleArgument()</code> </em></td><td class="markdownTableBodyCenter"><em> ❌ </em></td><td class="markdownTableBodyCenter"><em> <code>double</code> </em></td><td class="markdownTableBodyCenter"><em>   </em></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><em> <code>new DynamicSuggestedStringArgument(DynamicSuggestions)</code> </em></td><td class="markdownTableBodyCenter"><em> ❌ </em></td><td class="markdownTableBodyCenter"><em> <code>String</code> </em></td><td class="markdownTableBodyCenter"><em> See below for usage  </em></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><em> <code>new EnchantmentArgument()</code> </em></td><td class="markdownTableBodyCenter"><em> ✔️ </em></td><td class="markdownTableBodyCenter"><em> <code>Enchantment</code> </em></td><td class="markdownTableBodyCenter"><em>   </em></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><em> <code>new EntitySelectorArgument(EntitySelector)</code> </em></td><td class="markdownTableBodyCenter"><em> ✔️ </em></td><td class="markdownTableBodyCenter"><em> <code>Entity</code>, <code>Player</code>, <code>Collection&lt;Entity&gt;</code>, <code>Collection&lt;Player&gt;</code> </em></td><td class="markdownTableBodyCenter"><em> See below for usage  </em></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><em> <code>new EntityTypeArgument()</code> </em></td><td class="markdownTableBodyCenter"><em> ✔️ </em></td><td class="markdownTableBodyCenter"><em> <code>EntityType</code> </em></td><td class="markdownTableBodyCenter"><em>   </em></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><em> <code>new FloatArgument()</code> </em></td><td class="markdownTableBodyCenter"><em> ❌ </em></td><td class="markdownTableBodyCenter"><em> <code>float</code> </em></td><td class="markdownTableBodyCenter"><em>   </em></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><em> <code>new FunctionArgument()</code> </em></td><td class="markdownTableBodyCenter"><em> ❌</em> </td><td class="markdownTableBodyCenter"><code>FunctionWrapper[]</code> </td><td class="markdownTableBodyCenter">*Quite complex, see below for usage notes  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>new GreedyStringArgument()</code> </td><td class="markdownTableBodyCenter">❌ </td><td class="markdownTableBodyCenter"><code>String</code> </td><td class="markdownTableBodyCenter">Can have any length  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>new IntegerArgument()</code> </td><td class="markdownTableBodyCenter">❌ </td><td class="markdownTableBodyCenter"><code>int</code> </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>new ItemStackArgument()</code> </td><td class="markdownTableBodyCenter">✔️ </td><td class="markdownTableBodyCenter"><code>ItemStack</code> </td><td class="markdownTableBodyCenter">Returns an <code>ItemStack</code> with amount 1  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>new LiteralArgument(String)</code> </td><td class="markdownTableBodyCenter">❌ </td><td class="markdownTableBodyCenter">N/A </td><td class="markdownTableBodyCenter">See below for usage  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>new LocationArgument()</code><br  />
<code>new LocationArgument(LocationType)</code> </td><td class="markdownTableBodyCenter">✔️ </td><td class="markdownTableBodyCenter"><code>Location</code> </td><td class="markdownTableBodyCenter">See below for info on <code>LocationType</code>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>new ParticleArgument()</code> </td><td class="markdownTableBodyCenter">✔️ </td><td class="markdownTableBodyCenter"><code>Particle</code> </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>new PlayerArgument()</code> </td><td class="markdownTableBodyCenter">✔️ </td><td class="markdownTableBodyCenter"><code>Player</code> </td><td class="markdownTableBodyCenter">Always returns 1 player  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>new PotionEffectArgument()</code> </td><td class="markdownTableBodyCenter">✔️ </td><td class="markdownTableBodyCenter"><code>PotionEffectType</code> </td><td class="markdownTableBodyCenter"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>new StringArgument()</code> </td><td class="markdownTableBodyCenter">❌ </td><td class="markdownTableBodyCenter"><code>String</code> </td><td class="markdownTableBodyCenter">Always consists of 1 word  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>new SuggestedStringArgument(String[])</code> </td><td class="markdownTableBodyCenter">❌ </td><td class="markdownTableBodyCenter"><code>String</code> </td><td class="markdownTableBodyCenter">See below for usage  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>new TextArgument()</code> </td><td class="markdownTableBodyCenter">❌ </td><td class="markdownTableBodyCenter"><code>String</code> </td><td class="markdownTableBodyCenter">Can have spaces (used for text)  </td></tr>
</table>
<h2>Argument Casting</h2>
<p>To access arguments, they are casted in the order of declaration.</p>
<div class="fragment"><div class="line">LinkedHashMap&lt;String, ArgumentType&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;arg0&quot;</span>, <span class="keyword">new</span> StringArgument());</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;arg1&quot;</span>, <span class="keyword">new</span> PotionEffectArgument());</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;arg2&quot;</span>, <span class="keyword">new</span> LocationArgument());</div>
<div class="line"> </div>
<div class="line">commandRegister.register(<span class="stringliteral">&quot;cmd&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    String stringArg = (String) args[0];</div>
<div class="line">    PotionEffectType potionArg = (PotionEffectType) args[1];</div>
<div class="line">    Location locationArg = (Location) args[2];</div>
<div class="line">});</div>
</div><!-- fragment --><h2>Ranged Arguments</h2>
<p>Numerical arguments (<code>int</code>, <code>float</code> and <code>double</code>) can have ranged values.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Constructor </th><th class="markdownTableHeadCenter">Expression  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>new IntegerArgument()</code> </td><td class="markdownTableBodyCenter"><code>int</code>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>new IntegerArgument(2)</code> </td><td class="markdownTableBodyCenter">2 ≤ <code>int</code>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>new IntegerArgument(2, 10)</code> </td><td class="markdownTableBodyCenter">2 ≤ <code>int</code> ≤ 10  </td></tr>
</table>
<h2>Location Arguments</h2>
<p>As of 1.8.2, the <code>LocationArgument</code> now has a new optional constructor: <code>LocationArgument(LocationType type)</code>. The <code>LocationType</code> has two options:</p>
<ul>
<li><code>LocationType.BLOCK_POSITION</code> - Integer block coordinates. The suggested location is the coordinates of block you are looking at when you type the command. <img src="https://user-images.githubusercontent.com/42968178/50574833-92ef9e00-0df0-11e9-9ae5-59235b1bb8cb.png" alt="BLOCK_POSITION" class="inline"/></li>
<li><code>LocationType.PRECISE_POSITION</code> - Exact coordinates. The suggested location is the exact coordinates of where your cursor is pointing at when you type the command. <img src="https://user-images.githubusercontent.com/42968178/50574841-b6b2e400-0df0-11e9-9003-481b139d190f.png" alt="PRECISE_POSITION" class="inline"/></li>
</ul>
<p><b>By default, the <code>LocationArgument</code> will use <code>PRECISE_POSITION</code></b>.</p>
<p>Example:</p>
<div class="fragment"><div class="line">/break &lt;target block&gt; - &#39;breaks&#39; the block with the specified coordinates</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line"><span class="comment">//We want to target blocks in particular, so use BLOCK_POSITION</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;block&quot;</span>, <span class="keyword">new</span> LocationArgument(LocationType.BLOCK_POSITION));</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;break&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    ((Location) args[0]).getBlock().setType(Material.AIR);</div>
<div class="line">});</div>
</div><!-- fragment --><h2>Entity Selector Arguments</h2>
<p><a href="https://minecraft.gamepedia.com/Commands#Target_selectors">Target selectors</a> are implemented using the <code>EntitySelectorArgument</code> class. This allows you to select specific entities based on certain attributes.</p>
<p>The <code>EntitySelectorArgument</code> class requires an <code>EntitySelector</code> argument to determine what type of data to return. There are 4 types of entity selections which are available:</p>
<ul>
<li><code>EntitySelector.ONE_ENTITY</code> - A single entity, which returns a <code>Entity</code> object.</li>
<li><code>EntitySelector.MANY_ENTITIES</code> - A collection of many entities, which returns a <code>Collection&lt;Entity&gt;</code> object.</li>
<li><code>EntitySelector.ONE_PLAYER</code> - A single player, which returns a <code>Player</code> object.</li>
<li><code>EntitySelector.MANY_PLAYERS</code> - A collection of players, which returns a <code>Collection&lt;Player&gt;</code> object.</li>
</ul>
<p>The return type is the type to be cast when retrieved from the <code>Object[] args</code> in the command declaration.</p>
<div class="fragment"><div class="line"><span class="comment">//LinkedHashMap to store arguments for the command</span></div>
<div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Using a collective entity selector to select multiple entities</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;entities&quot;</span>, <span class="keyword">new</span> EntitySelectorArgument(EntitySelector.MANY_ENTITIES));</div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;kill&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//Parse the argument as a collection of entities (as stated above in the documentation)</span></div>
<div class="line">    Collection&lt;Entity&gt; entities = (Collection&lt;Entity&gt;) args[0];</div>
<div class="line">    sender.sendMessage(<span class="stringliteral">&quot;killed &quot;</span> + entities.size() + <span class="stringliteral">&quot;entities&quot;</span>);</div>
<div class="line">    <span class="keywordflow">for</span>(Entity e : entity)</div>
<div class="line">        e.remove();</div>
<div class="line">});</div>
</div><!-- fragment --><p>You can view an example of using the EntitySelectorArgument <a href="https://github.com/JorelAli/1.13-Command-API/blob/master/1.13CommandAPI/src/io/github/jorelali/commandapi/ExampleEntitySelector.java">here</a></p>
<h2>Chat Component Arguments</h2>
<p>The <code>ChatComponentArgument</code> uses Spigot's <code>BaseComponent</code> class to accept raw JSON text as a valid input. When raw JSON is inputted, the <code>ChatComponentArgument</code> will return a <code>BaseComponent[]</code> which can be used for books and raw messages. You can read more about raw JSON <a href="https://minecraft.gamepedia.com/Commands#Raw_JSON_text">here</a>, and Spigot's Chat Component API <a href="https://www.spigotmc.org/wiki/the-chat-component-api/">here</a>. You can view some examples with the <code>ChatComponentArgument</code> in the Examples section.</p>
<p>If used on a non-spigot server (e.g. a server running CraftBukkit), the CommandAPI will throw a <code>SpigotNotFoundException</code>.</p>
<h2>Literal Arguments, Suggested String Arguments &amp; Dynamic Suggested String Arguments</h2>
<h3>Literal Arguments</h3>
<p>Introduced in v1.3 is the <code>LiteralArgument</code> class. This allows you to basically create "lists" in your commands, or specific commands where a desired text option is required.</p>
<p><code>LiteralArgument(String literal)</code> takes a <code>String</code> input which is the text which the argument represents.</p>
<p>For example, take the <code>/gamemode</code> command. It takes an argument which is the game mode, which is picked from a list: adventure, creative, spectator or survival.</p>
<p><img src="https://i.imgur.com/dvSYCc1.png" alt="example" class="inline"/></p>
<p>Literal arguments are "technically" not arguments, however they are declared as you would a regular argument.</p>
<div class="fragment"><div class="line"><span class="comment">//Used as a regular argument, in your LinkedHashMap</span></div>
<div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;gamemodearg&quot;</span>, <span class="keyword">new</span> LiteralArgument(<span class="stringliteral">&quot;adventure&quot;</span>));</div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;gamemode&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    <span class="keywordflow">if</span>(sender instanceof Player) {</div>
<div class="line">        Player player = (Player) sender;</div>
<div class="line">        player.setGameMode(GameMode.ADVENTURE);</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><p>Since Literal arguments are not "technically" arguments, <b>LITERAL ARGUMENTS ARE NOT DEFINED IN <code>args</code></b>. So, with the example above, <code>args</code> is an empty array.</p>
<p>To use lists, you can iterate over a list/map to generate multiple commands at once:</p>
<div class="fragment"><div class="line"><span class="comment">//Create a map of gamemode names to their respective objects</span></div>
<div class="line">HashMap&lt;String, GameMode&gt; gamemodes = <span class="keyword">new</span> HashMap&lt;&gt;();</div>
<div class="line">gamemodes.put(<span class="stringliteral">&quot;adventure&quot;</span>, GameMode.ADVENTURE);</div>
<div class="line">gamemodes.put(<span class="stringliteral">&quot;creative&quot;</span>, GameMode.CREATIVE);</div>
<div class="line">gamemodes.put(<span class="stringliteral">&quot;spectator&quot;</span>, GameMode.SPECTATOR);</div>
<div class="line">gamemodes.put(<span class="stringliteral">&quot;survival&quot;</span>, GameMode.SURVIVAL);</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Iterate over the map</span></div>
<div class="line"><span class="keywordflow">for</span>(String key : gamemodes.keySet()) {</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//Create our arguments as usual, using the LiteralArgument for the name of the gamemode</span></div>
<div class="line">    LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">    arguments.put(key, <span class="keyword">new</span> LiteralArgument(key));</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//Register the command as usual</span></div>
<div class="line">    CommandAPI.getInstance().register(<span class="stringliteral">&quot;gamemode&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">        <span class="keywordflow">if</span>(sender instanceof Player) {</div>
<div class="line">            Player player = (Player) sender;</div>
<div class="line">            </div>
<div class="line">            <span class="comment">//Retrieve the object from the map via the key and NOT the args[]</span></div>
<div class="line">            player.setGameMode(gamemodes.get(key));</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line">}</div>
</div><!-- fragment --><p>Be aware that <em>large nested lists</em> are HIGHLY discouraged, as described in <a href="https://github.com/JorelAli/1.13-Command-API/issues/9#issuecomment-428818416">this comment</a></p>
<p>Failing to define a value for a literal (either by using null or an empty String) will result in a <code>BadLiteralException</code></p>
<h3>SuggestedStringArguments</h3>
<p>As of v1.5, the CommandAPI now includes the <code>SuggestedStringArgument</code> class. This is similar to the <code>LiteralArgument</code> class, however its usage is very different. The <code>SuggestedStringArgument</code> uses an array of Strings which are displayed to the user when inputting values.</p>
<div class="fragment"><div class="line"><span class="comment">//Arguments</span></div>
<div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Populate a list of suggestions with the name of each Material in the Material enum</span></div>
<div class="line"><span class="comment">/* This doesn&#39;t have the same effect that LiteralArgument has where each value is</span></div>
<div class="line"><span class="comment"> * stored in the command dispatcher&#39;s JSON file. The suggestion list is generated</span></div>
<div class="line"><span class="comment"> * at runtime and therefore doesn&#39;t impact on server memory or cause potential client issues. */</span></div>
<div class="line">List&lt;String&gt; suggestions = Arrays.stream(Material.values()).map(element -&gt; element.name()).collect(Collectors.toList());</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Create a SuggestedStringArgument</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;material&quot;</span>, <span class="keyword">new</span> SuggestedStringArgument(suggestions));</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Output the value submitted by the player</span></div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;suggest&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    <span class="keywordflow">if</span> (sender instanceof Player) {</div>
<div class="line">        Player player = (Player) sender;</div>
<div class="line">        player.sendMessage((String) args[0]);</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><p><b>The <code>SuggestedStringArgument</code> is a suggestion.</b> This means that the command sender <b>MAY NOT</b> enter a desired value stated in the list. For example:</p>
<div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;examples&quot;</span>, <span class="keyword">new</span> SuggestedStringArgument(<span class="stringliteral">&quot;hello&quot;</span>, <span class="stringliteral">&quot;world&quot;</span>, <span class="stringliteral">&quot;blah&quot;</span>));</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;mycommand&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    String result = (String) args[0]; <span class="comment">//String argument from /mycommand [examples]</span></div>
<div class="line">});</div>
</div><!-- fragment --><p><b>This code will not guarantee that the user has entered <code>hello</code>, <code>world</code> or <code>blah</code></b>. The user can type whatever they want, these are just suggestions.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><code>LiteralArgument</code> </th><th class="markdownTableHeadNone"><code>SuggestedStringArgument</code>  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Forces the user to select a word from the list </td><td class="markdownTableBodyNone">The user doesn't <b>have</b> to select a word from the list  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Bloated and uses up more memory to store arguments </td><td class="markdownTableBodyNone">Argument list is determined at runtime and doesn't use up as much memory  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Input sanitization is performed before the command is run </td><td class="markdownTableBodyNone">Requires extra handling to deal with unintended inputs. This is implemented by you.  </td></tr>
</table>
<h3>Dynamic Suggested String Arguments</h3>
<p>As of version 1.7, the CommandAPI now includes the <code>DynamicSuggestedStringArgument</code> class. This basically lets you take the <code>SuggestedStringArgument</code> class to a new level by allowing the server to automatically update the list whenever you want. This is done via a functional interface:</p>
<p>For example, say we register the command <code>dynsuggest</code> which dynamically updates from a list <code>dynamicList</code>:</p>
<div class="fragment"><div class="line"><span class="comment">//Create a list to hold the information of out dynamic list</span></div>
<div class="line">List&lt;String&gt; dynamicList = <span class="keyword">new</span> ArrayList&lt;&gt;();</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Create a Dynamic SuggestedStringArgument</span></div>
<div class="line">DynamicSuggestedStringArgument dynSSArg = <span class="keyword">new</span> DynamicSuggestedStringArgument(() -&gt; {</div>
<div class="line">    <span class="comment">//Returns a String[]</span></div>
<div class="line">    <span class="keywordflow">return</span> dynamicList.toArray(<span class="keyword">new</span> String[dynamicList.size()]);</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"><span class="comment">//Register the command as normal</span></div>
<div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;suggested&quot;</span>, dynSSArg);</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;dynsuggest&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    System.out.println((String) args[0]);</div>
<div class="line">});</div>
</div><!-- fragment --><p>Later on in our program, we decide to add things to the list:</p>
<div class="fragment"><div class="line">dynamicList.add(<span class="stringliteral">&quot;John&quot;</span>);</div>
<div class="line">dynamicList.add(<span class="stringliteral">&quot;Smith&quot;</span>);</div>
<div class="line">dynamicList.add(<span class="stringliteral">&quot;Will&quot;</span>);</div>
</div><!-- fragment --><p>When the command is being typed by the player, the options <em>John</em>, <em>Smith</em> and <em>Will</em> will be suggested to them. Say we then add a new thing to the list:</p>
<div class="fragment"><div class="line">dynamicList.add(<span class="stringliteral">&quot;Bob&quot;</span>);</div>
</div><!-- fragment --><p>Now when the player types the command, the options <em>John</em>, <em>Smith</em>, <em>Will</em> and <em>Bob</em> will be suggested to them.</p>
<h2>Strings, Greedy Strings and Text arguments</h2>
<h3><code>StringArgument</code></h3>
<p>The <code>StringArgument</code> is used to represent a single word. These words <b>can only contain alphanumeric characters (A-Z, a-z and 0-9), and the underscore character</b>.</p>
<p>Accepted <code>StringArgument</code> values:</p>
<div class="fragment"><div class="line">/mycommand hello</div>
<div class="line">/mycommand 123</div>
<div class="line">/mycommand hello123</div>
</div><!-- fragment --><p>Rejected <code>StringArgument</code> values:</p>
<div class="fragment"><div class="line">/mycommand hello@gmail.com</div>
<div class="line">/mycommand yesn&#39;t</div>
</div><!-- fragment --><p><b>Potential Uses</b></p>
<ul>
<li>Entering Strings to identify offline players</li>
</ul>
<h3><code>TextArgument</code></h3>
<p>The <code>TextArgument</code> acts similar to any String in Java. These can be single words, like to the <code>StringArgument</code>, or have additional values such as <b>special characters if quoted</b>. To type quotation marks, you can use <code>\"</code> (as similar to Java) to escape these special characters.</p>
<p>Accepted <code>TextArgument</code> values:</p>
<div class="fragment"><div class="line">/mycommand hello</div>
<div class="line">/mycommand &quot;hello world!&quot;</div>
<div class="line">/mycommand &quot;hello@gmail.com&quot;</div>
<div class="line">/mycommand &quot;this has \&quot; &lt;&lt;-- speech marks! &quot;</div>
</div><!-- fragment --><p>Rejected <code>TextArgument</code> values:</p>
<div class="fragment"><div class="line">/mycommand hello world</div>
<div class="line">/mycommand 私</div>
<div class="line">/mycommand &quot;speech marks: &quot;&quot;</div>
</div><!-- fragment --><p><b>Potential Uses</b></p>
<ul>
<li>A command to edit the contents on a sign</li>
<li>Any command that may require multiple text arguments</li>
</ul>
<h3><code>GreedyStringArgument</code></h3>
<p>The <code>GreedyStringArgument</code> takes the <code>TextArgument</code> a step further. <b>Any characters and symbols are allowed</b> and quotation marks are not required. <b>However, the <code>GreedyStringArgument</code> uses the entirety of the argument array from its position</b>.</p>
<p>For example, say we have a command <code>/msg &lt;target&gt; &lt;message&gt;</code></p>
<div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;target&quot;</span>, <span class="keyword">new</span> PlayerArgument());</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;message&quot;</span>, <span class="keyword">new</span> GreedyStringArgument());</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;msg&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    ((Player) args[0]).sendMessage((String) args[1]);</div>
<div class="line">});</div>
</div><!-- fragment --><p>Any text entered after the <code>&lt;target&gt;</code> argument would be sent to the player. For example, the command:</p>
<div class="fragment"><div class="line">/msg Skepter hello how are you? I&#39;m doing great! Last week I sent an email to blah@mail.com</div>
</div><!-- fragment --><p>would send <code>Skepter</code> a message saying <code>hello how are you? I'm doing great! Last week I sent an email to blah@mail.com</code>.</p>
<p>Due to the fact that <b>the <code>GreedyStringArgument</code> has no terminator</b> (it has infinite length), <b>a <code>GreedyStringArgument</code> must be defined at the end of the <code>LinkedHashMap</code></b> (otherwise the CommandAPI will throw a <code>GreedyStringException</code>)</p>
<p>For example, if the syntax was<code>/msg &lt;message&gt; &lt;target&gt;</code>, it would not be able to determine where the message ends and the <code>&lt;target&gt;</code> argument begins.</p>
<p><b>Potential Uses</b></p>
<ul>
<li>A messaging/whisper command</li>
<li>A mailing command</li>
<li>Any command involving lots of text, such as a book writing command</li>
<li>Any command which involves an unreasonable/unknown amount of arguments</li>
<li>Any command where you want to parse arguments similar to how regular Bukkit would</li>
</ul>
<h2>Multiple command arguments</h2>
<p>Sometimes, you'll want one command to have different arguments. For example:</p>
<ul>
<li><code>/walkspeed &lt;speed&gt;</code> to change your walk speed</li>
<li><code>/walkspeed &lt;speed&gt; &lt;target&gt;</code> to change the walk speed of another player</li>
</ul>
<p>To accommodate for this, just register the command twice, each with different arguments:</p>
<div class="fragment"><div class="line">LinkedHashMap&lt;String, ArgumentType&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;speed&quot;</span>, <span class="keyword">new</span> FloatArgument(0.0, 1.0)); <span class="comment">//args[0]</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">//Register the command</span></div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;walkspeed&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    <span class="keywordtype">float</span> speed = (float) args[0]; <span class="comment">//speed argument</span></div>
<div class="line">    <span class="comment">//Code here to change the player&#39;s speed</span></div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"><span class="comment">//We can still use the arguments variable to add new arguments as the first command has already been registered</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;target&quot;</span>, <span class="keyword">new</span> PlayerArgument()); <span class="comment">//args[1]</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">//Register the command</span></div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;walkspeed&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    <span class="keywordtype">float</span> speed = (float) args[0]; <span class="comment">//speed argument</span></div>
<div class="line">    Player target = (Player) args[1]; <span class="comment">//target player</span></div>
<div class="line">    <span class="comment">//Code here to change the target&#39;s speed</span></div>
<div class="line">});</div>
</div><!-- fragment --><h2>Overriding Argument Suggestions</h2>
<p>As of v1.8, the CommandAPI allows you to override suggestions for arguments.</p>
<p>Syntax:</p>
<div class="fragment"><div class="line"><span class="keyword">new</span> Argument().overrideSuggestions(String... suggestions);</div>
</div><!-- fragment --><p>This can be useful for if you want a specific argument type, but want the user to input a specific value for that argument. For example, a recipe command which takes an <code>ItemStackArgument</code>, but you want to limit the choices to only iron, gold and diamonds:</p>
<div class="fragment"><div class="line">LinkedHashMap&lt;String, ArgumentType&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;item&quot;</span>, <span class="keyword">new</span> ItemStackArgument().overrideSuggestions(<span class="stringliteral">&quot;minecraft:iron_ingot&quot;</span>, <span class="stringliteral">&quot;minecraft:gold_ingot&quot;</span>, <span class="stringliteral">&quot;minecraft:diamond&quot;</span>));</div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;mycommand&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    <span class="comment">//code here</span></div>
<div class="line">});</div>
</div><!-- fragment --><p><b>Example usage:</b></p>
<p>Say you wrote a command block which uses the following absolute entity selector:</p>
<div class="fragment"><div class="line">@a[x=120,y=100,z=-120,dx=10,dy=10,dz=10]</div>
</div><!-- fragment --><p>Say you wanted to write this command in code rather than a command block to handle more complex operations, but still want to use this specific entity selector. Handling that entity selector in code is difficult, but easy for an argument for a command.</p>
<p>Using the CommandAPI, this argument can be represented as:</p>
<div class="fragment"><div class="line"><span class="keyword">new</span> EntitySelectorArgument(EntitySelector.MANY_PLAYERS).overrideSuggestions(<span class="stringliteral">&quot;@a[x=120,y=100,z=-120,dx=10,dy=10,dz=10]&quot;</span>)</div>
</div><!-- fragment --><p>The user entering this command can then tab-complete this exact string and when parsed, it returns a <code>Collection&lt;Player&gt;</code>.</p>
<h2>Argument Permissions</h2>
<p>As of v1.8, the CommandAPI allows you to register permissions to arguments. This allows you to register subcommands to commands which require specific permissions in order to execute them. It uses a similar syntax to overriding suggestions:</p>
<p>Syntax:</p>
<div class="fragment"><div class="line"><span class="keyword">new</span> Argument().withPermission(CommandPermission permission)</div>
</div><!-- fragment --><p>If a player does not have the required permission:</p>
<ul>
<li>The argument hover text which suggests what the command is will not be shown</li>
<li>The player will receive an error if they try to type something in for that argument</li>
<li>Suggestions, such as a list of materials or players will not be shown</li>
</ul>
<p><b>Example usage:</b></p>
<p>A simple /kill command, where the second command requires OP:</p>
<div class="fragment"><div class="line">/kill - kills yourself</div>
<div class="line">/kill &lt;target&gt; - kills the target</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, ArgumentType&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;kill&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    ((Player) sender).setHealth(0);</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">arguments.clear();  </div>
<div class="line">arguments.put(<span class="stringliteral">&quot;target&quot;</span>, <span class="keyword">new</span> PlayerArgument().withPermission(CommandPermission.OP));</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;kill&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    ((Player) args[0]).setHealth(0);</div>
<div class="line">});</div>
</div><!-- fragment --><h1>Functions &amp; Function Arguments</h1>
<p>As of v1.6, the CommandAPI now supports Minecraft's new <a href="https://minecraft.gamepedia.com/Function">functions</a>. The <code>FunctionArgument</code> class is used to parse functions into your own plugin. This then looks up the function and returns a <code>FunctionWrapper[]</code>, which is also included with the CommandAPI. This is a list of all functions which were retrieved by the user - either an array containing a single function or an array containing a list of functions (for example, from a <a href="https://minecraft.gamepedia.com/Function#Tags">tag</a>)</p>
<h2>The <code>FunctionWrapper</code> class</h2>
<p>The <code>FunctionWrapper</code> class has two main methods:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Method </th><th class="markdownTableHeadNone">Result on execution  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>run()</code> </td><td class="markdownTableBodyNone">Executes the Minecraft function(s)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>runAs(Entity e)</code> </td><td class="markdownTableBodyNone">Executes the Minecraft function as a specific Entity  </td></tr>
</table>
<p>Running the function from a <code>FunctionWrapper</code> will execute the function as declared in the respective <code>.mcfunction</code> file.</p>
<h2>Function command registration</h2>
<p>In order to allow a command from your plugin to be used in a <code>.mcfunction</code> file, you <b>must register your command in your plugin's <code>onLoad()</code> method</b>, instead of the <code>onEnable()</code> method. This is due to the loading order for Minecraft functions, which takes place after the <code>onLoad()</code> method, but before the <code>onEnable()</code> method.</p>
<h1>Permissions</h1>
<p>Permissions are created using the <code>CommandPermission</code> class.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Method </th><th class="markdownTableHeadNone">Outcome  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>CommandPermission.OP</code> </td><td class="markdownTableBodyNone">Requires sender to be an OP to run the command  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>CommandPermission.NONE</code> </td><td class="markdownTableBodyNone">Anyone can run the command  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>CommandPermission.fromString("my.perm")</code> </td><td class="markdownTableBodyNone">Requires the permission <code>my.perm</code> to run the command  </td></tr>
</table>
<p>Note: The permission syntax changed as of v1.7. Please use this syntax from now on!</p>
<p>For example, a simple invincibility command with these parameters:</p>
<div class="fragment"><div class="line">/god</div>
<div class="line">/god &lt;target&gt;</div>
</div><!-- fragment --><p>This is implemented like this:</p>
<div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;god&quot;</span>, CommandPermission.fromString(<span class="stringliteral">&quot;command.god&quot;</span>), arguments, (sender, args) -&gt; {</div>
<div class="line">    if(sender instanceof Player) {</div>
<div class="line">        ((Player) sender).setInvulnerable(true);</div>
<div class="line">    }</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">arguments.put(<span class="stringliteral">&quot;target&quot;</span>, <span class="keyword">new</span> EntitySelectorArgument(EntitySelector.ONE_PLAYER));</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;god&quot;</span>, CommandPermission.fromString(<span class="stringliteral">&quot;command.god&quot;</span>), arguments, (sender, args) -&gt; {</div>
<div class="line">    ((Player) args[0]).setInvulnerable(true);</div>
<div class="line">});</div>
</div><!-- fragment --><h1>CommandExecutor</h1>
<p>The <code>CommandExecutor</code> class (not to be confused with Bukkit's <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/command/CommandExecutor.html">CommandExecutor</a> class) is a <a href="https://docs.oracle.com/javase/8/docs/api/index.html?java/lang/FunctionalInterface.html">functional interface</a> which executes when the command is performed. It consists of two parameters, <code>CommandSender sender</code> and <code>Object[] args</code>.</p>
<h2>CommandExecutor format (Java 8 lambda)</h2>
<div class="fragment"><div class="line">CommandExecutor executor = (sender, args) -&gt; {</div>
<div class="line">    <span class="comment">//Code here</span></div>
<div class="line">};</div>
</div><!-- fragment --><h2>CommandExecutor format (Java 7)</h2>
<div class="fragment"><div class="line">CommandExecutor executor = <span class="keyword">new</span> CommandExecutor() {</div>
<div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> run(CommandSender sender, Object[] args) {</div>
<div class="line">        <span class="comment">//Code here</span></div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><p>Command name checking and permission checks aren't required as these are checked when the player types the command.</p>
<h2>ResultingCommandExecutors</h2>
<p>As of v1.7, the CommandAPI now has support for the <code>/execute</code> command's <code>store</code> tag. This allows your command to return a <code>success</code> value (either <code>1</code> if successful or <code>0</code> if failure) and a <code>result</code> value (any integer).</p>
<p>The syntax for using a <code>ResultingCommandExecutor</code> is exactly the same as using a regular <code>CommandExecutor</code> when using the Java 8 lambda format:</p>
<div class="fragment"><div class="line">ResultingCommandExecutor executor = (sender, args) -&gt; {</div>
<div class="line">    <span class="comment">//code here</span></div>
<div class="line">    <span class="keywordflow">return</span> 5; <span class="comment">//result value is returned here</span></div>
<div class="line">};</div>
</div><!-- fragment --><p>Your <code>ResultingCommandExecutor</code> must return an integer - this is the <code>result</code> value. Default commands (ones that don't return a result value) will automatically return a result value of 0.</p>
<p><b>By default, all commands return a <code>success</code> value of <code>1</code></b>. This is changed by using the **<code>CommandAPI.fail(String errorMessage)</code> method, which instantly returns a <code>success</code> value of <code>0</code>.**</p>
<p>For example:</p>
<div class="fragment"><div class="line">ResultingCommandExecutor executor = (sender, args) -&gt; {</div>
<div class="line">    <span class="keywordtype">int</span> randInt = <span class="keyword">new</span> Random().nextInt();</div>
<div class="line">    <span class="keywordflow">if</span>(randInt &lt; 0) {</div>
<div class="line">        CommandAPI.fail(<span class="stringliteral">&quot;The random number was negative :(&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> randInt; <span class="comment">//result value is a random integer</span></div>
<div class="line">};</div>
</div><!-- fragment --><p>The <code>result</code> value is a random integer. The <code>success</code> value depends on whether that number is positive or negative. <b>If the <code>success</code> value is <code>0</code>, the result value is assigned <code>0</code> as well.</b></p>
<p>In short:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter"></th><th class="markdownTableHeadCenter">Command works normally </th><th class="markdownTableHeadCenter">Command uses <code>CommandAPI.fail(String)</code>  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>result</code> </td><td class="markdownTableBodyCenter">Whatever <code>int</code> you return </td><td class="markdownTableBodyCenter">0  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>success</code> </td><td class="markdownTableBodyCenter">1 </td><td class="markdownTableBodyCenter">0  </td></tr>
</table>
<h2>ProxiedCommandSenders</h2>
<p>As of v1.3, the CommandAPI now has <em>some</em> support for the <code>/execute</code> command, which is implemented using the <a href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/command/ProxiedCommandSender.html">ProxiedCommandSender</a></p>
<p>When using a command generated by the CommandAPI, it will modify the <code>CommandSender</code> when run depending of the <code>CommandSender</code> was changed in execution.</p>
<p>For example:</p>
<ul>
<li>Running <code>/mycommand</code> as a player in game will return a regular <code>CommandSender</code>, which can be cast to a <code>Player</code> object. (<code>Player player = (Player) sender</code>)</li>
<li>Running <code>/execute as @e[type=cow] run mycommand</code> as a player in game will return a <code>ProxiedCommandSender</code>, with callee as a cow and caller as a player.</li>
</ul>
<h1>Command Converter</h1>
<p>As of v1.6, the CommandAPI now includes the <code>Converter</code> class! This class can be used to convert commands from other plugins into commands which are compatible with Minecraft 1.13's <code>/execute</code> commands</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Method </th><th class="markdownTableHeadNone">Outcome  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>Converter.convert(Plugin p)</code> </td><td class="markdownTableBodyNone">Converts all commands stated in <code>Plugin</code>'s plugin.yml file  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>Converter.convert(Plugin p, String cmdName)</code> </td><td class="markdownTableBodyNone">Converts the specific command (<code>cmdName</code>) from <code>Plugin</code>'s plugin.yml file  </td></tr>
</table>
<p>This converter is to be used cautiously and only for commands from other plugins that you <em>need</em> to use.</p>
<h1>Examples examples examples!</h1>
<h2>Give Command</h2>
<div class="fragment"><div class="line">/give &lt;item&gt; &lt;amount&gt;</div>
<div class="line">/give &lt;target&gt; &lt;item&gt; &lt;amount&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;item&quot;</span>, <span class="keyword">new</span> ItemStackArgument()); <span class="comment">//args[0]</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;amount&quot;</span>, <span class="keyword">new</span> IntegerArgument(1, 64)); <span class="comment">//args[1]</span></div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;give&quot;</span>, CommandPermission.OP, <span class="keyword">new</span> String[] {<span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;item&quot;</span>}, arguments, (sender, args) -&gt; {</div>
<div class="line">    if(sender instanceof Player) {</div>
<div class="line">        Player player = (Player) sender;</div>
<div class="line">        ItemStack is = (ItemStack) args[0];</div>
<div class="line">        is.setAmount((int) args[1]);</div>
<div class="line">        player.getInventory().addItem(is);</div>
<div class="line">    }</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;target&quot;</span>, <span class="keyword">new</span> PlayerArgument()); <span class="comment">//args0[0]</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;item&quot;</span>, <span class="keyword">new</span> ItemStackArgument()); <span class="comment">//args[1]</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;amount&quot;</span>, <span class="keyword">new</span> IntegerArgument(1, 64)); <span class="comment">//args[2]</span></div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;give&quot;</span>, CommandPermission.OP, <span class="keyword">new</span> String[] {<span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;item&quot;</span>}, arguments, (sender, args) -&gt; {</div>
<div class="line">    Player target = (Player) args[0];</div>
<div class="line">    ItemStack is = (ItemStack) args[1];</div>
<div class="line">    is.setAmount((int) args[2]);</div>
<div class="line">    target.getInventory().addItem(is);</div>
<div class="line">});</div>
</div><!-- fragment --><h2>Enchant Command</h2>
<div class="fragment"><div class="line">/enchant &lt;level&gt; &lt;force enchant&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;level&quot;</span>, <span class="keyword">new</span> IntegerArgument()); <span class="comment">//args[0]</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;force enchant&quot;</span>, <span class="keyword">new</span> BooleanArgument()); <span class="comment">//args[1]</span></div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;enchant&quot;</span>, CommandPermission.fromString(<span class="stringliteral">&quot;plugin.enchant&quot;</span>), arguments, (sender, args) -&gt; {</div>
<div class="line">    if(sender instanceof Player) {</div>
<div class="line">        Player player = (Player) sender;</div>
<div class="line">        if((boolean) args[1]) {</div>
<div class="line">            player.getInventory().getItemInMainHand().addUnsafeEnchantment((Enchantment) args[1], (int) args[0]);</div>
<div class="line">        } else {</div>
<div class="line">            player.getInventory().getItemInMainHand().addEnchantment((Enchantment) args[1], (int) args[0]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><h2>SetBlock Command</h2>
<div class="fragment"><div class="line">/setblock &lt;location&gt; &lt;type&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;location&quot;</span>, <span class="keyword">new</span> LocationArgument()); <span class="comment">//args[0]</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;type&quot;</span>, <span class="keyword">new</span> ItemStackArgument()); <span class="comment">//args[1]</span></div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;setblock&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    <span class="keywordflow">if</span>(sender instanceof Player) {</div>
<div class="line">        Player player = (Player) sender;</div>
<div class="line">        Material type = ((ItemStack) args[1]).getType();</div>
<div class="line">        player.getWorld().getBlockAt((Location) args[0]).setType(type);</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><h2>Message Command</h2>
<div class="fragment"><div class="line">/message &lt;target&gt; &lt;message&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;target&quot;</span>, <span class="keyword">new</span> PlayerArgument()); <span class="comment">//args[0]</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;message&quot;</span>, <span class="keyword">new</span> GreedyStringArgument()); <span class="comment">//args[1]</span></div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;message&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    Player target = (Player) args[0];</div>
<div class="line">    target.sendMessage((String) args[1]);</div>
<div class="line">});</div>
</div><!-- fragment --><h2>Using the ChatComponentArgument:</h2>
<p>Send a message with raw JSON: </p><div class="fragment"><div class="line">/raw &lt;target&gt; &lt;raw message&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;target&quot;</span>, <span class="keyword">new</span> PlayerArgument()); <span class="comment">//args[0]</span></div>
<div class="line">arguments.put(<span class="stringliteral">&quot;rawText&quot;</span>, <span class="keyword">new</span> ChatComponentArgument()); <span class="comment">//args[1]</span></div>
<div class="line"> </div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;raw&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    Player target = (Player) args[0];</div>
<div class="line">    <span class="comment">//Retrieve BaseComponent[] and send to player via spigot() method</span></div>
<div class="line">    BaseComponent[] arr = (BaseComponent[]) args[1];</div>
<div class="line">    target.spigot().sendMessage(arr);</div>
<div class="line">});</div>
</div><!-- fragment --><p>Create a book with raw JSON: </p><div class="fragment"><div class="line">/makebook &lt;contents&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;contents&quot;</span>, <span class="keyword">new</span> ChatComponentArgument());</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;makebook&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    <span class="keywordflow">if</span> (sender instanceof Player) {</div>
<div class="line">        Player player = (Player) sender;</div>
<div class="line">        BaseComponent[] arr = (BaseComponent[]) args[0];</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Create book</span></div>
<div class="line">        ItemStack is = <span class="keyword">new</span> ItemStack(Material.WRITTEN_BOOK);</div>
<div class="line">        BookMeta meta = (BookMeta) is.getItemMeta(); </div>
<div class="line">        meta.spigot().addPage(arr);</div>
<div class="line">        is.setItemMeta(meta);</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Give player the book</span></div>
<div class="line">        player.getInventory().addItem(is);</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><h2>DynamicSuggestedString Example</h2>
<p>For example, say we have a plugin that keeps track of griefers. If a moderator of the server notices a griefer, they add the griefer to their "watch list". If they notice that player griefing again, they can ban that player easily as their name is suggested in the <code>/bangriefer</code> command:</p>
<div class="fragment"><div class="line">/addgriefer &lt;player&gt; - add griefer to watch list</div>
<div class="line">/bangriefer &lt;player&gt; - ban griefer from watch list</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>DynSugExample <span class="keyword">extends</span> JavaPlugin {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//List of griefers</span></div>
<div class="line">    <span class="keyword">private</span> List&lt;Player&gt; griefers;</div>
<div class="line"> </div>
<div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> onEnable() {</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//Initialise list</span></div>
<div class="line">        griefers = <span class="keyword">new</span> ArrayList&lt;&gt;();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">//Create arguments</span></div>
<div class="line">        LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Argument to store a player</span></div>
<div class="line">        arguments.put(<span class="stringliteral">&quot;griefer&quot;</span>, <span class="keyword">new</span> EntitySelectorArgument(EntitySelector.ONE_PLAYER));</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// /addgriefer command adds the player to the list</span></div>
<div class="line">        CommandAPI.getInstance().register(<span class="stringliteral">&quot;addgriefer&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">            griefers.add((Player) args[0]);</div>
<div class="line">        });</div>
<div class="line">        </div>
<div class="line">        <span class="comment">//Reset arguments and create a DynamicSuggestedStringArgument</span></div>
<div class="line">        arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">        arguments.put(<span class="stringliteral">&quot;griefer&quot;</span>, <span class="keyword">new</span> DynamicSuggestedStringArgument(() -&gt; {</div>
<div class="line">            <span class="comment">//Convert the griefers list into a String array with the player&#39;s names</span></div>
<div class="line">            String[] array = <span class="keyword">new</span> String[griefers.size()];</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; griefers.size(); i++) {</div>
<div class="line">                Player player = griefers.get(i);</div>
<div class="line">                array[i] = player.getName();</div>
<div class="line">            }</div>
<div class="line">            </div>
<div class="line">            <span class="comment">//Return the String[]</span></div>
<div class="line">            <span class="keywordflow">return</span> array;</div>
<div class="line">        }));</div>
<div class="line">            </div>
<div class="line">        <span class="comment">// /bangriefer command bans the player.</span></div>
<div class="line">        CommandAPI.getInstance().register(<span class="stringliteral">&quot;bangriefer&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">            Bukkit.getBanList(BanList.Type.NAME).addBan((String) args[0], <span class="stringliteral">&quot;Being a griefer&quot;</span>, <span class="keyword">new</span> Date(), sender.getName());</div>
<div class="line">        });</div>
<div class="line">        </div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2>Functions</h2>
<h3>Registering commands for Minecraft function support</h3>
<div class="fragment"><div class="line">/killall - kills all players on the server</div>
<div class="line">/fly - enables flight</div>
</div><!-- fragment --><p><code>JavaPlugin</code> file:</p>
<div class="fragment"><div class="line"><span class="keyword">public</span> <span class="keyword">class </span>Main <span class="keyword">extends</span> JavaPlugin {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Commands which will be used in Minecraft functions</span></div>
<div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> onLoad() {</div>
<div class="line">        LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">        CommandAPI.getInstance().register(<span class="stringliteral">&quot;killall&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">            <span class="comment">//Lambda to kill all enemies in all worlds</span></div>
<div class="line">            Bukkit.getWorlds().forEach(w -&gt; w.getLivingEntities().forEach(e -&gt; e.setHealth(0)));</div>
<div class="line">        });</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">//All other commands</span></div>
<div class="line">    @Override</div>
<div class="line">    <span class="keyword">public</span> <span class="keywordtype">void</span> onEnable() {</div>
<div class="line">        <span class="comment">//Other commands</span></div>
<div class="line">        LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">        CommandAPI.getInstance().register(<span class="stringliteral">&quot;fly&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">            <span class="keywordflow">if</span>(sender instanceof Player) {</div>
<div class="line">                ((Player) sender).setFlying(<span class="keyword">true</span>);</div>
<div class="line">            }</div>
<div class="line">        });</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Example function hierarchy:</b></p>
<div class="fragment"><div class="line">server/</div>
<div class="line">├── world/</div>
<div class="line">│   ├── advancements/</div>
<div class="line">│   ├── data/</div>
<div class="line">│   ├── datapacks/</div>
<div class="line">│   │   └── bukkit/</div>
<div class="line">│   │       ├── pack.mcmeta</div>
<div class="line">│   │       └── data/</div>
<div class="line">│   │           └── mycustomnamespace/</div>
<div class="line">│   │               ├── functions/</div>
<div class="line">│   │               │   ├── test.mcfunction</div>
<div class="line">│   │               │   └── test2.mcfunction</div>
<div class="line">│   │               └── tags/</div>
<div class="line">│   │                   └── functions/</div>
<div class="line">│   │                       └── mytag.json</div>
<div class="line">│   └── ...</div>
<div class="line">├── world_nether/</div>
<div class="line">├── world_the_end/</div>
<div class="line">├── ...</div>
<div class="line">└── spigot.jar</div>
</div><!-- fragment --><p><b>test.mcfunction</b></p>
<p>Note how the _/killall_ command works here. Trying to register _/fly_ will cause an error as it was loaded in the <code>onEnable()</code> method instead of the <code>onLoad()</code> method.</p>
<div class="fragment"><div class="line">killall</div>
<div class="line">say Killed all living entities on the server</div>
</div><!-- fragment --><p><b>mytag.json</b></p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;values&quot;: [</div>
<div class="line">    &quot;mycustomnamespace:test&quot;,</div>
<div class="line">    &quot;mycustomnamespace:test2&quot;</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>In-game command usage</b></p>
<div class="fragment"><div class="line">/function mycustomnamespace:test</div>
<div class="line">/function #mycustomnamespace:mytag</div>
</div><!-- fragment --><h3>Using a pre-existing function in your code</h3>
<div class="fragment"><div class="line">/runfunction &lt;function/tag&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">LinkedHashMap&lt;String, Argument&gt; arguments = <span class="keyword">new</span> LinkedHashMap&lt;&gt;();</div>
<div class="line">arguments.put(<span class="stringliteral">&quot;functionarg&quot;</span>, <span class="keyword">new</span> FunctionArgument());</div>
<div class="line">CommandAPI.getInstance().register(<span class="stringliteral">&quot;runfunction&quot;</span>, arguments, (sender, args) -&gt; {</div>
<div class="line">    FunctionWrapper[] func = (FunctionWrapper[]) args[0];</div>
<div class="line">    <span class="comment">//Run all functions in the FunctionWrapper[]</span></div>
<div class="line">    <span class="keywordflow">for</span>(FunctionWrapper <span class="keyword">function</span> : func) {</div>
<div class="line">        <span class="keyword">function</span>.run();</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --><h2>Converter</h2>
<p>Given a plugin's <code>plugin.yml</code> file:</p>
<div class="fragment"><div class="line">name: myPlugin</div>
<div class="line">main: some.random.package.Main</div>
<div class="line">loadbefore: [CommandAPI]</div>
<div class="line">version: 1.0</div>
<div class="line">commands:</div>
<div class="line">  gmc:</div>
<div class="line">    aliases: gm1</div>
<div class="line">  gms:</div>
<div class="line">  i:</div>
<div class="line">    permission: item.permission</div>
</div><!-- fragment --><p>Running the converter on the plugin name produces:</p>
<div class="fragment"><div class="line"><span class="comment">//Convert all commands declared in myPlugin:</span></div>
<div class="line"><span class="comment">//Creates a command /gmc, /gm1, /gms and /i</span></div>
<div class="line">Converter.convert(Bukkit.getPluginManager().getPlugin(<span class="stringliteral">&quot;myPlugin&quot;</span>));</div>
</div><!-- fragment --><h1>FAQ</h1>
<h2>Why does the PlayerArgument only produce one player when <em>is</em> an option?</h2>
<p><b>A:</b> Simplicity. The old command system which involved using <code>Bukkit.getPlayer()</code> and parsing a username only produces one player. To make it as simple to use, this was the best option. Alternatively, you can use the new <code>EntitySelectorArgument</code> to select multiple players.</p>
<h2>What about the other argument types?</h2>
<p><b>Q:</b> There's loads more argument types, including NBT tags, rotational position (i.e. pitch/yaw), inventory slots, scoreboards.... why aren't they implemented?</p>
<p><b>A:</b> Again, for simplicity. NBT tags would require lots of NMS code to convert (and isn't majorly supported by Bukkit on its own). Rotational position isn't a majorly important argument - floating point arguments work fine. I don't really know much about how scoreboards work (if someone wants to help, I'm open to collaboration) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jun 26 2020 01:16:08 for 1.13 CommandAPI by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
