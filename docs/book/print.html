<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>1.13 CommandAPI Documentation v2.0</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <base href="">

        <link rel="stylesheet" href="book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">

        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        

    </head>
    <body class="light">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li class="affix"><a href="intro.html">Introduction</a></li><li><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation for server owners</a></li><li><a href="quickstart.html"><strong aria-hidden="true">2.</strong> Setting up your development environment</a></li><li><a href="commandregistration.html"><strong aria-hidden="true">3.</strong> Command registration</a></li><li><a href="arguments.html"><strong aria-hidden="true">4.</strong> Arguments</a></li><li><ol class="section"><li><a href="primitivearguments.html"><strong aria-hidden="true">4.1.</strong> Primitive arguments</a></li><li><a href="locationargument.html"><strong aria-hidden="true">4.2.</strong> Location arguments</a></li><li><a href="chatarguments.html"><strong aria-hidden="true">4.3.</strong> Chat arguments</a></li><li><a href="stringarguments.html"><strong aria-hidden="true">4.4.</strong> String arguments</a></li><li><a href="entityarguments.html"><strong aria-hidden="true">4.5.</strong> Entity &amp; player arguments</a></li><li><a href="literalarguments.html"><strong aria-hidden="true">4.6.</strong> Literal arguments</a></li><li><a href="dynsugargs.html"><strong aria-hidden="true">4.7.</strong> Dynamically suggested arguments</a></li><li><a href="customarguments.html"><strong aria-hidden="true">4.8.</strong> Custom arguments</a></li></ol></li><li><a href="functions.html"><strong aria-hidden="true">5.</strong> Functions &amp; Tags</a></li><li><ol class="section"><li><a href="functionsetup.html"><strong aria-hidden="true">5.1.</strong> Setting up functions &amp; tags</a></li><li><a href="functionwrapper.html"><strong aria-hidden="true">5.2.</strong> The FunctionWrapper class</a></li><li><a href="functionarguments.html"><strong aria-hidden="true">5.3.</strong> Function arguments</a></li></ol></li><li><a href="permissions.html"><strong aria-hidden="true">6.</strong> Permissions</a></li><li class="affix"><a href="faq.html">FAQ</a></li><li class="affix"><a href="afterword.html">Afterword</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">1.13 CommandAPI Documentation v2.0</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="print.html#introduction" id="introduction"><h1>Introduction</h1></a>
<p>Welcome to the documentation for the CommandAPI. The CommandAPI lets you create vanilla Minecraft commands which utilize the new command features which were implemented in Minecraft 1.13, including but not limited to:</p>
<ul>
<li>Having commands compatible with the vanilla <code>/execute</code> command</li>
<li>Having commands which can be run using Minecraft functions</li>
<li>Having better auto-completion and suggestions</li>
<li>Having command type checks before execution (e.g. ensuring a number is within a certain range)</li>
</ul>
<a class="header" href="print.html#how-the-commandapi-works" id="how-the-commandapi-works"><h2>How the CommandAPI works</h2></a>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>This is a pretty important section, I would recommend reading before implementing the CommandAPI in your own projects. This section tells you about setup which is not stated anywhere else in the documentation. Think of it as the &quot;knowledge you should know before using this API&quot;.</p>
</blockquote>
<p>The CommandAPI does not follow the &quot;standard&quot; method of registering commands. In other words, commands which are registered with the CommandAPI will be registered as pure vanilla Minecraft commands as opposed to Bukkit or Spigot commands. This means that the following implications exist:</p>
<ul>
<li>Commands do not need to be declared in the <code>plugin.yml</code> file</li>
<li>Commands are not &quot;linked&quot; to a certain plugin. In other words, you cannot look up which commands are registered by which plugin.</li>
</ul>
<p>In addition to this, command declarations are sent to each client using the <a href="https://wiki.vg/Command_Data">Command Data</a> packet. This means that commands using copious amounts of <code>LiteralArgument</code>s are highly discouraged, as this can cause clients to crash whilst joining the server. You can find out more about this quirk and how to avoid this in the <code>LiteralArgument</code> page TODO: fill this section.</p>
<a class="header" href="print.html#how-this-documentation-works" id="how-this-documentation-works"><h2>How this documentation works</h2></a>
<p>This documentation is split into the major sections that build up the CommandAPI. It's been designed in such a way that it should be easy to find exactly what you want to help you get started with the CommandAPI, how it's structured and how to make effective use of it. Each step of the way, the documentation will include examples which showcase how to use the CommandAPI.</p>
<p>You can use the side bar on the left to access the various sections of the documentation and can change the theme to your liking using the paintbrush icon in the top left corner.</p>
<p>Using the search icon in the top left corner, typing &quot;Example&quot; will show a list of examples which are included throughout the documentation.</p>
<a class="header" href="print.html#documentation-changelog" id="documentation-changelog"><h2>Documentation changelog</h2></a>
<p>Whenever a new version comes out, ensure you keep up to date on the latest changes to the documentation (You can view the documentation version at the top of the page). This changelog gives a brief overview of the changes to pages that were made in the transition to releases.</p>
<ul>
<li><strong>1.8 → 2.0</strong>
<ul>
<li><strong><a href="./arguments.html#arguments-with-overrideable-suggestions">Click here</a></strong> - Deprecated <code>SuggestedStringArgument</code>, use <code>.overrideSuggestions()</code> instead</li>
<li><strong>Chapter TODO</strong> - <code>CustomArgument</code> page</li>
<li><strong>Chapter TODO</strong> - The <code>DynamicSuggestedArgument</code> now has access to the <code>CommandSender</code> object</li>
</ul>
</li>
</ul>
<a class="header" href="print.html#installation-for-server-owners" id="installation-for-server-owners"><h1>Installation (For server owners)</h1></a>
<ul>
<li>Download the latest CommandAPI.jar from the download page <a href="https://github.com/JorelAli/1.13-Command-API/releases/latest">here</a></li>
<li>Place the CommandAPI.jar file in your server's <code>plugins/</code> folder</li>
<li>That's it!</li>
</ul>
<a class="header" href="print.html#configuring-the-commandapi" id="configuring-the-commandapi"><h2>Configuring the CommandAPI</h2></a>
<p>The CommandAPI can be configured in the <code>plugins/CommandAPI/config.yml</code> file.</p>
<p>The default <code>config.yml</code> settings are as follows:</p>
<pre><code class="language-yaml">verbose-outputs: true
create-dispatcher-json: true
</code></pre>
<ul>
<li><code>verbose-outputs</code> - Outputs command registration and unregistration logs in the console</li>
<li><code>create-dispatcher-json</code> - Creates a <code>command_registration.json</code> file showing the mapping of registered commands</li>
</ul>
<a class="header" href="print.html#setting-up-your-development-environment" id="setting-up-your-development-environment"><h1>Setting up your development environment</h1></a>
<p>To use the CommandAPI in your plugins, there are two methods of adding it to your development environment:</p>
<a class="header" href="print.html#manually-using-the-jar" id="manually-using-the-jar"><h2>Manually using the .jar</h2></a>
<ul>
<li>Download the latest CommandAPI.jar from the download page <a href="https://github.com/JorelAli/1.13-Command-API/releases/latest">here</a></li>
<li>Add the CommandAPI.jar file to your project/environment's build path</li>
<li>Add the plugin as a dependent in the plugin.yml (<code>depend: [CommandAPI]</code>)</li>
</ul>
<a class="header" href="print.html#using-maven-recommended" id="using-maven-recommended"><h2>Using Maven (recommended)</h2></a>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>If you've never used maven before, I highly recommend it! It makes it easier to keep your code updated with the latest dependency updates. For information on how to set up a plugin using maven, you can read <a href="https://bukkit.gamepedia.com/Plugin_Tutorial">Bukkit's plugin tutorial</a>.</p>
</blockquote>
<ul>
<li>
<p>Add the maven repository to your <code>pom.xml</code> file:</p>
<pre><code>&lt;repository&gt;
    &lt;id&gt;mccommandapi&lt;/id&gt;
    &lt;url&gt;https://raw.githubusercontent.com/JorelAli/1.13-Command-API/mvn-repo/1.13CommandAPI/&lt;/url&gt;
&lt;/repository&gt;
</code></pre>
</li>
<li>
<p>Add the dependency to your <code>pom.xml</code>:</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;io.github.jorelali&lt;/groupId&gt;
    &lt;artifactId&gt;commandapi&lt;/artifactId&gt;
    &lt;version&gt;VERSION&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>A list of version numbers can be found <a href="https://github.com/JorelAli/1.13-Command-API/tree/mvn-repo/1.13CommandAPI/io/github/jorelali/commandapi">here</a>.
For example, if you wanted to use version 2.0, you would use <code>&lt;version&gt;2.0&lt;/version&gt;</code></p>
</li>
<li>
<p>Add the plugin as a dependent in the plugin.yml (<code>depend: [CommandAPI]</code>)</p>
</li>
</ul>
<a class="header" href="print.html#command-registration" id="command-registration"><h1>Command registration</h1></a>
<a class="header" href="print.html#command-registration-1" id="command-registration-1"><h2>Command registration</h2></a>
<table><thead><tr><th> CommandRegistration method                                   </th><th> Outcome                                                   </th></tr></thead><tbody>
<tr><td> <code>CommandAPI.getInstance().register(String, LinkedHashMap, CommandExecutor)</code> </td><td> Basic command registration                                </td></tr>
<tr><td> <code>CommandAPI.getInstance().register(String, String[], LinkedHashMap, CommandExecutor)</code> </td><td> Register command with an array of aliases                 </td></tr>
<tr><td> <code>CommandAPI.getInstance().register(String, CommandPermission, LinkedHashMap, CommandExecutor)</code> </td><td> Register command which need certain permissions           </td></tr>
<tr><td> <code>CommandAPI.getInstance().register(String, CommandPermission, String[], LinkedHashMap, CommandExecutor)</code> </td><td> Register command with aliases and permission requirements </td></tr>
</tbody></table>
<p>To see more about <code>CommandPermission</code>, check out the link <a href="https://github.com/JorelAli/1.13-Command-API/blob/master/v1.8%20Documentation.md#commandexecutor">here</a></p>
<p>To see more about <code>CommandExecutor</code>, check out the link <a href="https://github.com/JorelAli/1.13-Command-API/blob/master/v1.8%20Documentation.md#commandexecutor">here</a></p>
<a class="header" href="print.html#command-loading-order" id="command-loading-order"><h3>Command loading order</h3></a>
<p><strong>Commands must be registered before the server finishes loading</strong>. The CommandAPI will prevent command registration after the server has loaded.</p>
<table><thead><tr><th> When to load               </th><th> What to do                                                   </th></tr></thead><tbody>
<tr><td> Plugin <code>onLoad()</code> method   </td><td> Register commands to be used in Minecraft functions (see Function section for more info) </td></tr>
<tr><td> Plugin <code>onEnable()</code> method </td><td> Register regular commands                                    </td></tr>
</tbody></table>
<a class="header" href="print.html#command-unregistration" id="command-unregistration"><h3>Command unregistration</h3></a>
<p>The CommandAPI has support to unregister commands completely from Minecraft's command list. This includes Minecraft built in commands!</p>
<table><thead><tr><th> Method                                                       </th><th> Result                                                       </th></tr></thead><tbody>
<tr><td> <code>CommandAPI.getInstance().unregister(String cmd)</code>            </td><td> Unregisters a command from the game                          </td></tr>
<tr><td> <code>CommandAPI.getInstance().unregister(String cmd, boolean force)</code> </td><td> Unregisters a command from the game by force. This includes <code>/minecraft:cmd</code>, <code>/bukkit:cmd</code> and <code>/spigot:cmd</code> commands as well. </td></tr>
</tbody></table>
<p><strong>Example:</strong></p>
<table><thead><tr><th> Method                                                  </th><th> Outcome                                                      </th></tr></thead><tbody>
<tr><td> <code>CommandAPI.getInstance().unregister(&quot;gamemode&quot;)</code>       </td><td> Unregisters the <code>/gamemode</code> command from the game            </td></tr>
<tr><td> <code>CommandAPI.getInstance().unregister(&quot;gamemode&quot;, true)</code> </td><td> Force unregisters all <code>/gamemode</code> commands from all plugins, Minecraft, Bukkit and Spigot. This includes <code>/minecraft:gamemode</code>, in addition to any other plugins which register <code>/gamemode</code> </td></tr>
</tbody></table>
<a class="header" href="print.html#arguments" id="arguments"><h1>Arguments</h1></a>
<p>TODO: Write about declaration of functions (linkedhashmap etc.), the naming convention (it doesn't matter, but has to be unique)</p>
<a class="header" href="print.html#list-of-arguments" id="list-of-arguments"><h2>List of arguments</h2></a>
<p>Arguments are found in the <code>io.github.jorelali.commandapi.api.arguments</code> package.</p>
<table><thead><tr><th align="center">          Argument class          </th><th align="center">                          Data type                           </th><th align="center">                      Description                       </th></tr></thead><tbody>
<tr><td align="center">        <code>BooleanArgument</code>         </td><td align="center">                          <code>boolean</code>                           </td><td align="center">                                                        </td></tr>
<tr><td align="center">       <code>ChatColorArgument</code>        </td><td align="center">                         <code>ChatColor</code>                          </td><td align="center">                                                        </td></tr>
<tr><td align="center">     <code>ChatComponentArgument</code>      </td><td align="center">                      <code>BaseComponent[]</code>                       </td><td align="center">                 Formatted chat object                  </td></tr>
<tr><td align="center">         <code>DoubleArgument</code>         </td><td align="center">                           <code>double</code>                           </td><td align="center">                                                        </td></tr>
<tr><td align="center"> <code>DynamicSuggestedStringArgument</code> </td><td align="center">                           <code>String</code>                           </td><td align="center">       Suggested string using a supplier function       </td></tr>
<tr><td align="center">      <code>EnchantmentArgument</code>      </td><td align="center">                        <code>Enchantment</code>                         </td><td align="center">                                                        </td></tr>
<tr><td align="center">    <code>EntitySelectorArgument</code>     </td><td align="center"> <code>Entity</code>, <code>Player</code>, <code>Collection&lt;Entity&gt;</code>, <code>Collection&lt;Player&gt;</code> </td><td align="center">      Selects an entity (similar to <code>@a</code> or <code>@p</code>)       </td></tr>
<tr><td align="center">      <code>EntityTypeArgument</code>       </td><td align="center">                         <code>EntityType</code>                         </td><td align="center">          Selects a type of entity (e.g. Pig)           </td></tr>
<tr><td align="center">         <code>FloatArgument</code>         </td><td align="center">                           <code>float</code>                            </td><td align="center">                                                        </td></tr>
<tr><td align="center">       <code>FunctionArgument</code>        </td><td align="center">                     <code>FunctionWrapper[]</code>                      </td><td align="center">     A declared Minecraft function from a data pack     </td></tr>
<tr><td align="center">     <code>GreedyStringArgument</code>      </td><td align="center">                           <code>String</code>                           </td><td align="center">                 A string of any length                 </td></tr>
<tr><td align="center">        <code>IntegerArgument</code>        </td><td align="center">                            <code>int</code>                             </td><td align="center">                                                        </td></tr>
<tr><td align="center">       <code>ItemStackArgument</code>       </td><td align="center">                         <code>ItemStack</code>                          </td><td align="center">          Returns an <code>ItemStack</code> with amount 1          </td></tr>
<tr><td align="center">        <code>LiteralArgument</code>        </td><td align="center">                             N/A                              </td><td align="center">          A predefined hardcoded argument name          </td></tr>
<tr><td align="center">       <code>LocationArgument</code>        </td><td align="center">                          <code>Location</code>                          </td><td align="center">                                                        </td></tr>
<tr><td align="center">       <code>ParticleArgument</code>        </td><td align="center">                          <code>Particle</code>                          </td><td align="center">                                                        </td></tr>
<tr><td align="center">         <code>PlayerArgument</code>         </td><td align="center">                           <code>Player</code>                           </td><td align="center"> Similar to EntitySelector, but always returns 1 player </td></tr>
<tr><td align="center">     <code>PotionEffectArgument</code>      </td><td align="center">                      <code>PotionEffectType</code>                      </td><td align="center">                                                        </td></tr>
<tr><td align="center">         <code>StringArgument</code>         </td><td align="center">                           <code>String</code>                           </td><td align="center">              String consisting of 1 word               </td></tr>
<tr><td align="center">    <code>SuggestedStringArgument</code>     </td><td align="center">                           <code>String</code>                           </td><td align="center">          A list of suggested one word strings          </td></tr>
<tr><td align="center">          <code>TextArgument</code>          </td><td align="center">                           <code>String</code>                           </td><td align="center">      String which can have spaces (used for text)      </td></tr>
</tbody></table>
<a class="header" href="print.html#argument-casting" id="argument-casting"><h2>Argument Casting</h2></a>
<p>To access arguments, they are casted in the order of declaration.</p>
<pre><code class="language-java">LinkedHashMap&lt;String, ArgumentType&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;arg0&quot;, new StringArgument());
arguments.put(&quot;arg1&quot;, new PotionEffectArgument());
arguments.put(&quot;arg2&quot;, new LocationArgument());

CommandAPI.getInstance().register(&quot;cmd&quot;, arguments, (sender, args) -&gt; {
    String stringArg = (String) args[0];
    PotionEffectType potionArg = (PotionEffectType) args[1];
    Location locationArg = (Location) args[2];
});
</code></pre>
<a class="header" href="print.html#arguments-with-overrideable-suggestions" id="arguments-with-overrideable-suggestions"><h2>Arguments with overrideable suggestions</h2></a>
<p>Some arguments have a feature allowing you to override the list of suggestions they provide. This is achieved by using <code>.overrideSuggestions(String[])</code> on an instance of an argument, with the String array consisting of suggestions that will be shown to the user whilst they type their command. It's been designed such that this returns the same argument so it can be used inline (handy, eh?)</p>
<a class="header" href="print.html#example---friend-list-by-overriding-suggestions" id="example---friend-list-by-overriding-suggestions"><h3>Example - Friend list by overriding suggestions</h3></a>
<p>Say you have a plugin which has a &quot;friend list&quot; for players. If you want to teleport to a friend in that list, you could use a <code>PlayerArgument</code>, which has the list of suggestions overridden with the list of friends that that player has.</p>
<pre><code class="language-java">String[] friends = //Some String array populated with friends

LinkedHashMap&lt;String, ArgumentType&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;friend&quot;, new PlayerArgument().overrideSuggestions(friends));

CommandAPI.getInstance().register(&quot;friendtp&quot;, arguments, (sender, args) -&gt; {
    Player target = (Player) args[0];
    Player player = (Player) sender;
    player.teleport(target);
});
</code></pre>
<a class="header" href="print.html#primitive-arguments" id="primitive-arguments"><h1>Primitive arguments</h1></a>
<a class="header" href="print.html#boolean-arguments" id="boolean-arguments"><h2>Boolean arguments</h2></a>
<p>The <code>BooleanArgument</code> class represents boolean values <code>true</code> and <code>false</code>.</p>
<a class="header" href="print.html#example---config-editing-plugin" id="example---config-editing-plugin"><h3>Example - Config editing plugin</h3></a>
<pre><code class="language-java">String[] configKeys = getConfig().getKeys(true).toArray(new String[getConfig().getKeys(true).size()]);

LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;config-key&quot;, new TextArgument().overrideSuggestions(configKeys));
arguments.put(&quot;value&quot;, new BooleanArgument());

CommandAPI.getInstance().register(&quot;editconfig&quot;, arguments, (sender, args) -&gt; {
    getConfig().set((String) args[0], (boolean) args[1]);
});
</code></pre>
<a class="header" href="print.html#numerical-arguments" id="numerical-arguments"><h2>Numerical arguments</h2></a>
<p>Numbers are represented using the designated number classes:</p>
<table><thead><tr><th> Class </th><th> Description </th></tr></thead><tbody>
<tr><td> <code>IntegerArgument</code> </td><td> Whole numbers </td></tr>
<tr><td> <code>DoubleArgument</code> </td><td> Double precision floating point numbers </td></tr>
<tr><td> <code>FloatArgument</code> </td><td> Single precision floating point numbers </td></tr>
</tbody></table>
<p>Each numerical argument can have ranges applied to them, which restricts the user to only entering numbers from within a certain range. This is done using the constructor, and the range specified:</p>
<table><thead><tr><th> Constructor </th><th> Description </th></tr></thead><tbody>
<tr><td> <code>new IntegerArgument()</code> </td><td> Any range </td></tr>
<tr><td> <code>new IntegerArgument(2)</code> </td><td> Values greater than <em>or equal to</em> 2 </td></tr>
<tr><td> <code>new IntegerArgument(2, 10)</code> </td><td> Values greater than or equal to 2 and less than or equal to 10 </td></tr>
</tbody></table>
<p>Each range is <em>inclusive</em>, so it includes the number given to it.</p>
<a class="header" href="print.html#location-argument" id="location-argument"><h1>Location argument</h1></a>
<p>The <code>LocationArgument</code> class is used to specify a location in the <em>command sender's current world</em>. This allows the user to enter three numbers as coordinates, or use relative coordinates (i.e. the <code>~</code> and <code>^</code> operators)</p>
<p>The <code>LocationArgument</code> constructor requires a <code>LocationType</code>, which specifies the type of location that is accepted by the command.</p>
<a class="header" href="print.html#locationtypeblock_position" id="locationtypeblock_position"><h3><code>LocationType.BLOCK_POSITION</code></h3></a>
<p>Integer block coordinates. The suggested location is the coordinates of block you are looking at when you type the command.
<img src="https://user-images.githubusercontent.com/42968178/50574833-92ef9e00-0df0-11e9-9ae5-59235b1bb8cb.png" alt="BLOCK_POSITION" /></p>
<a class="header" href="print.html#locationtypeprecise_position" id="locationtypeprecise_position"><h3><code>LocationType.PRECISE_POSITION</code></h3></a>
<p>Exact coordinates. The suggested location is the exact coordinates of where your cursor is pointing at when you type the command.
<img src="https://user-images.githubusercontent.com/42968178/50574841-b6b2e400-0df0-11e9-9003-481b139d190f.png" alt="PRECISE_POSITION" /></p>
<p><strong>By default, the <code>LocationArgument</code> will use <code>PRECISE_POSITION</code></strong>.</p>
<a class="header" href="print.html#example---break-block-by-coordinates-command" id="example---break-block-by-coordinates-command"><h3>Example - Break block by coordinates command</h3></a>
<pre><code class="language-java">LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();

//We want to target blocks in particular, so use BLOCK_POSITION
arguments.put(&quot;block&quot;, new LocationArgument(LocationType.BLOCK_POSITION));

CommandAPI.getInstance().register(&quot;break&quot;, arguments, (sender, args) -&gt; {
    ((Location) args[0]).getBlock().setType(Material.AIR);
});
</code></pre>
<a class="header" href="print.html#chat-arguments" id="chat-arguments"><h1>Chat arguments</h1></a>
<a class="header" href="print.html#chat-color-argument" id="chat-color-argument"><h2>Chat color argument</h2></a>
<p>The <code>ChatColorArgument</code> class is used to represent a given chat color (e.g. red or green)</p>
<a class="header" href="print.html#example---username-color-changing-plugin" id="example---username-color-changing-plugin"><h3>Example - Username color changing plugin</h3></a>
<pre><code class="language-java">LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;chatcolor&quot;, new ChatColorArgument());

CommandAPI.getInstance().register(&quot;namecolor&quot;, arguments, (sender, args) -&gt; {
    Player player = (Player) sender;
    ChatColor color = (ChatColor) args[0];
    player.setDisplayName(color + player.getDisplayName());
});
</code></pre>
<a class="header" href="print.html#chat-component-argument" id="chat-component-argument"><h2>Chat component argument</h2></a>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>The <code>ChatComponentArgument</code> class is dependent on a Spigot based server. This means that the <code>ChatComponentArgument</code> will not work on a non-Spigot based server, such as CraftBukkit. If you use this class on a non-Spigot based server, it will throw a <code>SpigotNotFoundException</code></p>
<p>Spigot based servers include, but are not limited to:</p>
<ul>
<li>Spigot</li>
<li>PaperSpigot</li>
<li>TacoSpigot</li>
</ul>
</blockquote>
<p>The <code>ChatComponentArgument</code> class accepts raw JSON as valid input. This is converted into Spigot's <code>BaseComponent[]</code> which can be used for books and raw messages. You can read more about raw JSON <a href="https://minecraft.gamepedia.com/Commands#Raw_JSON_text">here</a>.</p>
<a class="header" href="print.html#example---book-made-from-raw-json" id="example---book-made-from-raw-json"><h3>Example - Book made from raw JSON</h3></a>
<pre><code class="language-java">LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;contents&quot;, new ChatComponentArgument());

CommandAPI.getInstance().register(&quot;makebook&quot;, arguments, (sender, args) -&gt; {
    if (sender instanceof Player) {
        Player player = (Player) sender;
        BaseComponent[] arr = (BaseComponent[]) args[0];
        
        //Create book
        ItemStack is = new ItemStack(Material.WRITTEN_BOOK);
        BookMeta meta = (BookMeta) is.getItemMeta(); 
        meta.spigot().addPage(arr);
        is.setItemMeta(meta);
        
        //Give player the book
        player.getInventory().addItem(is);
    }
});
</code></pre>
<a class="header" href="print.html#string-arguments" id="string-arguments"><h1>String arguments</h1></a>
<a class="header" href="print.html#string-argument" id="string-argument"><h2>String argument</h2></a>
<p>The <code>StringArgument</code> class is used to represent a single word. These words <strong>can only contain alphanumeric characters (A-Z, a-z and 0-9), and the underscore character</strong>.</p>
<p>Accepted <code>StringArgument</code> values:</p>
<pre><code>Hello
123
hello123
Hello_world
</code></pre>
<p>Rejected <code>StringArgument</code> values:</p>
<pre><code>hello@email.com
yesn't
</code></pre>
<a class="header" href="print.html#potential-uses-for-string-arguments" id="potential-uses-for-string-arguments"><h3>Potential uses for string arguments</h3></a>
<ul>
<li>Entering Strings to identify offline players</li>
</ul>
<a class="header" href="print.html#text-argument" id="text-argument"><h2>Text argument</h2></a>
<p>The <code>TextArgument</code> acts similar to any String in Java. These can be single words, like to the <code>StringArgument</code>, or have additional characters (e.g. spaces, symbols) <strong>if surrounded by quotes</strong>. To type quotation marks, you can use <code>\&quot;</code> (as similar to Java) to escape these special characters.</p>
<p>Accepted <code>TextArgument</code> values:</p>
<pre><code>hello
&quot;hello world!&quot;
&quot;hello@gmail.com&quot;
&quot;this has \&quot; &lt;&lt;-- speech marks! &quot;
</code></pre>
<p>Rejected <code>TextArgument</code> values:</p>
<pre><code>hello world
私
&quot;speech marks: &quot;&quot;
</code></pre>
<a class="header" href="print.html#potential-uses-for-text-arguments" id="potential-uses-for-text-arguments"><h3>Potential uses for text arguments</h3></a>
<ul>
<li>A command to edit the contents on a sign</li>
<li>Any command that may require multiple text arguments</li>
</ul>
<a class="header" href="print.html#greedy-string-argument" id="greedy-string-argument"><h2>Greedy string argument</h2></a>
<p>The <code>GreedyStringArgument</code> takes the <code>TextArgument</code> a step further. <strong>Any characters and symbols are allowed</strong> and quotation marks are not required. <strong>However, the <code>GreedyStringArgument</code> uses the entirety of the argument array from its position</strong>.</p>
<a class="header" href="print.html#example---messaging-command" id="example---messaging-command"><h3>Example - Messaging command</h3></a>
<p>Say we have a command <code>/msg &lt;target&gt; &lt;message&gt;</code></p>
<pre><code class="language-java">LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;target&quot;, new PlayerArgument());
arguments.put(&quot;message&quot;, new GreedyStringArgument());

CommandAPI.getInstance().register(&quot;msg&quot;, arguments, (sender, args) -&gt; {
    ((Player) args[0]).sendMessage((String) args[1]);
});
</code></pre>
<p>Any text entered after the <code>&lt;target&gt;</code> argument would be sent to the player. For example, the command could be used as follows:</p>
<pre><code>/msg Skepter This is some incredibly long string with &quot;symbols&quot; and $p3c!aL characters~
</code></pre>
<p>Due to the fact that <strong>the <code>GreedyStringArgument</code> has no terminator</strong> (it has infinite length), <strong>a <code>GreedyStringArgument</code> must be defined at the end of the <code>LinkedHashMap</code></strong> (otherwise the CommandAPI will throw a <code>GreedyStringException</code>)</p>
<p>For example, if the syntax was<code>/msg &lt;message&gt; &lt;target&gt;</code>, it would not be able to determine where the message ends and the <code>&lt;target&gt;</code> argument begins.</p>
<a class="header" href="print.html#potential-uses-for-greedy-strings" id="potential-uses-for-greedy-strings"><h3>Potential uses for greedy strings</h3></a>
<ul>
<li>A messaging/whisper command</li>
<li>A mailing command</li>
<li>Any command involving lots of text, such as a book writing command</li>
<li>Any command which involves an unreasonable/unknown amount of arguments</li>
<li>Any command where you want to parse arguments similar to how regular Bukkit would</li>
</ul>
<a class="header" href="print.html#entity--player-arguments" id="entity--player-arguments"><h1>Entity &amp; player arguments</h1></a>
<a class="header" href="print.html#entity-selector-argument" id="entity-selector-argument"><h2>Entity selector argument</h2></a>
<p>Minecraft's <a href="https://minecraft.gamepedia.com/Commands#Target_selectors">target selectors</a> (e.g. <code>@a</code> or <code>@e</code>) are implemented using the <code>EntitySelectorArgument</code> class. This allows you to select specific entities based on certain attributes.</p>
<p>The <code>EntitySelectorArgument</code> constructor requires an <code>EntitySelector</code> argument to determine what type of data to return. There are 4 types of entity selections which are available:</p>
<ul>
<li><code>EntitySelector.ONE_ENTITY</code> - A single entity, which returns a <code>Entity</code> object.</li>
<li><code>EntitySelector.MANY_ENTITIES</code>  - A collection of many entities, which returns a <code>Collection&lt;Entity&gt;</code> object.</li>
<li><code>EntitySelector.ONE_PLAYER</code> - A single player, which returns a <code>Player</code> object.</li>
<li><code>EntitySelector.MANY_PLAYERS</code> - A collection of players, which returns a <code>Collection&lt;Player&gt;</code> object.</li>
</ul>
<p>The return type is the type to be cast when retrieved from the <code>Object[] args</code> in the command declaration.</p>
<a class="header" href="print.html#example---kill-entities-command" id="example---kill-entities-command"><h3>Example - Kill entities command</h3></a>
<pre><code class="language-java">//LinkedHashMap to store arguments for the command
LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();

//Using a collective entity selector to select multiple entities
arguments.put(&quot;entities&quot;, new EntitySelectorArgument(EntitySelector.MANY_ENTITIES));

CommandAPI.getInstance().register(&quot;kill&quot;, arguments, (sender, args) -&gt; {
    
    //Parse the argument as a collection of entities (as stated above in the documentation)
    Collection&lt;Entity&gt; entities = (Collection&lt;Entity&gt;) args[0];
    sender.sendMessage(&quot;killed &quot; + entities.size() + &quot;entities&quot;);
    for(Entity e : entity)
        e.remove();
});
</code></pre>
<p>Example command usage for the above code would be:</p>
<ul>
<li>Kill all cows:
<pre><code>/kill @e[type=cow]
</code></pre>
</li>
<li>Kill the 10 furthest pigs from the command sender:
<pre><code>/kill @e[type=pig,limit=10,sort=furthest]
</code></pre>
</li>
</ul>
<a class="header" href="print.html#player-argument" id="player-argument"><h2>Player argument</h2></a>
<p>The <code>PlayerArgument</code> class is very similar <em>(almost identical)</em> to <code>EntitySelectorArgument</code>, with the EntitySelector <code>ONE_PLAYER</code>. It also allows you to select a player based on their UUID.</p>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>I've not tested the <code>PlayerArgument</code> enough to recommend using it over the <code>EntitySelectorArgument(EntitySelector.ONE_PLAYER)</code>. There may be other advantages to using this than the regular EntitySelectorArgument, but as of writing this documentation, I know not of the advantages nor disadvantages to using this argument type. Internally, the <code>PlayerArgument</code> uses the <code>GameProfile</code> class from Mojang's authlib, which may be able to retrieve offline players (untested).</p>
</blockquote>
<a class="header" href="print.html#entity-type-argument" id="entity-type-argument"><h2>Entity type argument</h2></a>
<p>The <code>EntityTypeArgument</code> class is used to retrieve a type of entity as defined in the <a href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/EntityType.html"><code>EntityType</code></a> enum. In other words, this is an entity type, for example a pig or a zombie.</p>
<a class="header" href="print.html#example---spawning-entities" id="example---spawning-entities"><h3>Example - Spawning entities</h3></a>
<pre><code class="language-java">LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();

arguments.put(&quot;entity&quot;, new EntityTypeArgument());
arguments.put(&quot;amount&quot;, new IntegerArgument(1, 100)); //Prevent spawning too many entities

CommandAPI.getInstance().register(&quot;spawnmob&quot;, arguments, (sender, args) -&gt; {
    Player player = (Player) sender;
    for(int i = 0; i &lt; (int) args[1]; i++) {
        player.getWorld().spawnEntity(player.getLocation(), (EntityType) args[0]);
    }
});
</code></pre>
<a class="header" href="print.html#literal-arguments" id="literal-arguments"><h1>Literal arguments</h1></a>
<p>Literal arguments are used to represent &quot;forced options&quot; for a command. For instance, take Minecraft's <code>/gamemode</code> command. The syntax consists of the following:</p>
<pre><code>/gamemode &lt;mode&gt; [player]
</code></pre>
<p>It consists of a gamemode, followed by an optional player argument. The list of gamemodes are as follows:</p>
<pre><code>/gamemode survival 
/gamemode creative
/gamemode adventure
/gamemode spectator
</code></pre>
<p>Unlike regular commands (as those implemented by Bukkit for example), these four options are &quot;hardcoded&quot; - they're not &quot;suggestions&quot;. The user can <em>only</em> enter one of these four examples, no other values are allowed.</p>
<a class="header" href="print.html#literal-arguments-vs-regular-arguments" id="literal-arguments-vs-regular-arguments"><h2>Literal arguments vs regular arguments</h2></a>
<p>Unlike regular arguments that are shown in this chapter, the literal argument is <em>technically</em> not an argument. Due to this fact, the literal argument is <strong>not</strong> present in the <code>args[]</code> for the command declaration.</p>
<a class="header" href="print.html#example---literal-arguments-and-regular-arguments" id="example---literal-arguments-and-regular-arguments"><h3>Example - Literal arguments and regular arguments</h3></a>
<pre><code class="language-java">LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;literal&quot;, new LiteralArgument(&quot;hello&quot;));
arguments.put(&quot;text&quot;, new TextArgument());

CommandAPI.getInstance().register(&quot;mycommand&quot;, arguments, (sender, args) -&gt; {
    /* This gives the variable &quot;text&quot; the contents of the 
     * TextArgument, and not the literal &quot;hello&quot; */
    String text = (String) args[0];
});
</code></pre>
<p>As you can see from this example, when you retrieve <code>args[0]</code>, it returns the value of the <code>TextArgument</code> instead of the <code>LiteralArgument</code></p>
<a class="header" href="print.html#example---gamemode-command-using-literal-arguments" id="example---gamemode-command-using-literal-arguments"><h2>Example - Gamemode command using literal arguments</h2></a>
<p>This is a demonstration of how you could create a command similar to Minecraft's <code>/gamemode</code> command by using literal arguments. To do this, we are effectively registering 4 separate commands, each called <code>/gamemode</code>, but with different literal arguments.</p>
<pre><code class="language-java">//Create a map of gamemode names to their respective objects
HashMap&lt;String, GameMode&gt; gamemodes = new HashMap&lt;&gt;();
gamemodes.put(&quot;adventure&quot;, GameMode.ADVENTURE);
gamemodes.put(&quot;creative&quot;, GameMode.CREATIVE);
gamemodes.put(&quot;spectator&quot;, GameMode.SPECTATOR);
gamemodes.put(&quot;survival&quot;, GameMode.SURVIVAL);

//Iterate over the map
for(String key : gamemodes.keySet()) {
    
    //Create our arguments as usual, using the LiteralArgument for the name of the gamemode
    LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();
    arguments.put(key, new LiteralArgument(key));
    
    //Register the command as usual
    CommandAPI.getInstance().register(&quot;gamemode&quot;, arguments, (sender, args) -&gt; {
        if(sender instanceof Player) {
            Player player = (Player) sender;
            
            //Retrieve the object from the map via the key and NOT the args[]
            player.setGameMode(gamemodes.get(key));
        }
    });
}
</code></pre>
<a class="header" href="print.html#literal-argument-warnings" id="literal-argument-warnings"><h2>Literal argument warnings</h2></a>
<p>Literal arguments require a string in the constructor. If the literal is an empty String or is null, the CommandAPI will throw a <code>BadLiteralException</code>.</p>
<p>Because literal arguments are <em>&quot;hardcoded&quot;</em>, each literal is effectively mapped to a single command. This is shown when using the configuration option <code>create-dispatcher-json: true</code> which shows the JSON result of registered commands. For instance, take the <code>/defaultgamemode</code> command:</p>
<pre><code class="language-json">&quot;defaultgamemode&quot;: {
    &quot;type&quot;: &quot;literal&quot;,
    &quot;children&quot;: {
        &quot;adventure&quot;: {
            &quot;type&quot;: &quot;literal&quot;,
            &quot;executable&quot;: true
        },
        &quot;creative&quot;: {
            &quot;type&quot;: &quot;literal&quot;,
            &quot;executable&quot;: true
        },
        &quot;spectator&quot;: {
            &quot;type&quot;: &quot;literal&quot;,
            &quot;executable&quot;: true
        },
        &quot;survival&quot;: {
            &quot;type&quot;: &quot;literal&quot;,
            &quot;executable&quot;: true
        }
    }
},
</code></pre>
<p>Each option produces a new &quot;command&quot; in the tree of commands. This means that having exceptionally large lists of literals, or nested literals (e.g. <code>/command &lt;literal1&gt; &lt;literal2&gt;</code>) can cause very large trees which cannot be sent to the clients <em>(it can cause clients to crash)</em>.</p>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>Take care when using literal arguments. If your list of arguments is exceptionally large, or contains many nested arguments, the server may be unable to send the command information to the client. If many command argument choices are required, consider using a <code>StringArgument</code> and using <code>.overrideSuggestions()</code> to create your own list of required arguments.</p>
</blockquote>
<a class="header" href="print.html#dynamically-suggested-arguments" id="dynamically-suggested-arguments"><h1>Dynamically suggested arguments</h1></a>
<p>Dynamically suggested arguments lets you provide a function to generate arguments dynamically. This is achieved using the <code>DynamicSuggestedStringArgument</code> class, which has two constuctor formats:</p>
<pre><code class="language-java">//Constructor requires a function which returns a String[]
new DynamicSuggestedStringArgument(() -&gt; return new String[]);

//Constructor requires a function which returns a String[] and receives a sender input
new DynamicSuggestedStringArgument((sender) -&gt; return new String[]);
</code></pre>
<a class="header" href="print.html#example---friend-command-with-dynamic-suggestions" id="example---friend-command-with-dynamic-suggestions"><h2>Example - Friend command with dynamic suggestions</h2></a>
<pre><code>/friend &lt;player&gt;       - Adds a player as a friend
/msgf   &lt;player&gt; &lt;msg&gt; - Message a friend
</code></pre>
<pre><code class="language-java">//Global mapping of a player to a list of their friends
final Map&lt;String, List&lt;String&gt;&gt; friends = new ArrayList&lt;&gt;();

//Register /friend command
LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;friend&quot;, new PlayerArgument());

CommandAPI.getInstance().register(&quot;friend&quot;, arguments, (sender, args) -&gt; {
    
    //Get list of friends from the sender
    List&lt;String&gt; senderFriends;

    if(friends.containsKey(sender.getName())) {
        senderFriends = friends.get(sender.getName());
    } else {
        senderFriends = new ArrayList&lt;&gt;(); 
    }

    //Add friend to the global map
    senderFriends.put(((Player) args[0]).getName());
    friends.put(sender.getName(), senderFriends);
});

//Register /msgf command
arguments.clear();

/* Use a DynamicSuggestedStringArgument which consists of the names of
 * friends for that player. Don't forget that this returns a String */
arguments.put(&quot;friend&quot;, new DynamicSuggestedStringArgument((sender) -&gt; {
    List&lt;String&gt; senderFriends = friends.get(sender.getName());
    return senderFriends.toArray(new String[senderFriends.size()]);
}));

arguments.put(&quot;message&quot;, new GreedyStringArgument());

CommandAPI.getInstance().register(&quot;msgf&quot;, arguments, (sender, args) -&gt; {
    Bukkit.getPlayer((String) args[0]).sendMessage((String) args[1]);
});
</code></pre>
<a class="header" href="print.html#custom-arguments" id="custom-arguments"><h1>Custom arguments</h1></a>
<p>Custom arguments are arguably the most powerful argument that the CommandAPI offers. This argument is used to represent whatever you want.</p>
<a class="header" href="print.html#functions" id="functions"><h1>Functions</h1></a>
<p>The CommandAPI has support to use Minecraft's <a href="https://minecraft.gamepedia.com/Function_(Java_Edtion)">functions</a> within your plugins. This is handled by using a class provided by the CommandAPI called <code>FunctionWrapper</code>, which allows you to execute functions. The CommandAPI also provides support to let you run your own commands within Minecraft function files.</p>
<a class="header" href="print.html#using-custom-commands-in-functions" id="using-custom-commands-in-functions"><h2>Using custom commands in functions</h2></a>
<p>In order to use a command from your plugin in a <code>.mcfunction</code> file, you must register your command in your plugin's <code>onLoad()</code> method, instead of the <code>onEnable()</code> method. Failure to do so will not allow the command to be registered for Minecraft functions, causing the function file to fail to load during the server startup phase.</p>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>In short, if you want to register a command which can be used in Minecraft functions, register it in your plugin's <code>onLoad()</code> method.</p>
</blockquote>
<a class="header" href="print.html#example---registering-command-for-use-in-a-function" id="example---registering-command-for-use-in-a-function"><h3>Example - Registering command for use in a function</h3></a>
<pre><code class="language-java">public class Main extends JavaPlugin {

    @Override
    public void onLoad() {
        //Commands which will be used in Minecraft functions are registered here

        CommandAPI.getInstance().register(&quot;killall&quot;, new LinkedHashMap&lt;&gt;(), (sender, args) -&gt; {
            //Kills all enemies in all worlds
            Bukkit.getWorlds()
                .forEach(w -&gt; w.getLivingEntities()
                    .forEach(e -&gt; e.setHealth(0))
                );
        });
    }
    
    @Override
    public void onEnable() {
        //Register all other commands here
    } 
}
</code></pre>
<a class="header" href="print.html#setting-up-functions--tags" id="setting-up-functions--tags"><h1>Setting up functions &amp; tags</h1></a>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>Most developers can completely skip this section. This is for those that are unfamiliar with functions and tags and is less about how the CommandAPI works.</p>
</blockquote>
<p>This section explains how functions are declared and set up for use in a Minecraft server. This is ideal for server owners who've never set up functions, or developers <em>(like the Command API's creator)</em> that has no idea how to set this sort of thing up.</p>
<a class="header" href="print.html#creating-functions" id="creating-functions"><h2>Creating functions</h2></a>
<p>Functions are text files <em>(with the <code>.mcfunction</code> extension)</em> which contains lists of functions which are executed one after another. Each line of the file is a valid Minecraft command. Say we have <code>text.mcfunction</code>:</p>
<pre><code>killall
say Killed all living entities on the server
</code></pre>
<p>This will run the custom command killall <em>(as declared in <strong>Chapter 5 - Functions</strong>)</em>, and then broadcast a message to all players stating that all entities were killed.</p>
<a class="header" href="print.html#creating-tags" id="creating-tags"><h2>Creating tags</h2></a>
<p>Tags are json files which contain a list of functions. Tags let you run multiple functions at a time. Say we have a tag called <code>mytag.json</code>:</p>
<pre><code class="language-json">{
    &quot;values&quot;: [
        &quot;mycustomnamespace:test&quot;,
        &quot;mycustomnamespace:test2&quot;
    ]
}
</code></pre>
<p>This will run the function <code>test</code> and the function <code>test2</code>, which are in the namespace <code>mycustomnamespace</code>.</p>
<a class="header" href="print.html#namespaces--where-to-place-everything" id="namespaces--where-to-place-everything"><h2>Namespaces &amp; where to place everything</h2></a>
<p>The following hierarchy explains where functions and tags go. In this diagram, the two functions <code>test</code> and <code>test2</code> are in a directory called <code>functions</code>. There is also a tag called <code>mytag</code> which is placed in the <code>tags</code> directory under <code>functions</code>. These are all under the <em>namespace</em> called <code>mycustomnamespace</code></p>
<pre><code>server/
├── world/
│   ├── advancements/
│   ├── data/
│   ├── datapacks/
│   │   └── bukkit/
│   │       ├── pack.mcmeta
│   │       └── data/
│   │           └── mycustomnamespace/
│   │               ├── functions/
│   │               │   ├── test.mcfunction
│   │               │   └── test2.mcfunction
│   │               └── tags/
│   │                   └── functions/
│   │                       └── mytag.json
│   └── ...
├── world_nether/
├── world_the_end/
├── ...
└── spigot.jar
</code></pre>
<p>To execute the <code>test</code> function, you would run the following command:</p>
<pre><code>/function mycustomnamespace:test
</code></pre>
<p>To execute the <code>mytag</code> tag, you would run the following command:</p>
<pre><code>/function #mycustomnamespace:mytag
</code></pre>
<a class="header" href="print.html#the-functionwrapper" id="the-functionwrapper"><h1>The FunctionWrapper</h1></a>
<p>The CommandAPI includes the <code>FunctionWrapper</code> class which is a wrapper for Minecraft's functions. It allows you to execute the commands that are represented by the respective <code>.mcfunction</code> file. There most important thing to note with the <code>FunctionWrapper</code>, and that it <em>does not &quot;store&quot; the functions inside it</em>, instead it just <em>stores what the function does</em>. In other words, you cannot &quot;extract&quot; the list of commands from a <code>FunctionWrapper</code> object.</p>
<a class="header" href="print.html#functionwrapper-methods" id="functionwrapper-methods"><h2>FunctionWrapper methods</h2></a>
<p>The <code>FunctionWrapper</code> class consists of two methods:</p>
<table><thead><tr><th> Method            </th><th> Result on execution                                  </th></tr></thead><tbody>
<tr><td> <code>run()</code>           </td><td> Executes the Minecraft function                      </td></tr>
<tr><td> <code>runAs(Entity)</code>   </td><td> Executes the Minecraft function as a specific Entity </td></tr>
</tbody></table>
<p>The <code>FunctionWrapper</code> also implements the <code>Keyed</code> interface, allowing you to retrieve the NamespacedKey for this function using <code>getKey()</code>.</p>
<a class="header" href="print.html#function-arguments" id="function-arguments"><h1>Function arguments</h1></a>
<p>The <code>FunctionArgument</code> class is used to represent a function or a tag in Minecraft. When retrieving an instance of the argument, it will return a <code>FunctionWrapper[]</code>, where each <code>FunctionWrapper</code> consists of a Minecraft function.</p>
<p>Therefore, if a user supplies a single function, the <code>FunctionWrapper[]</code> will be of size 1, and if the user supplies a tag which can consist of multiple functions, the <code>FunctionWrapper[]</code> will consist of the array of functions as declared by that tag.</p>
<a class="header" href="print.html#example---minecrafts-function-command" id="example---minecrafts-function-command"><h2>Example - Minecraft's /function command</h2></a>
<p>Here, we implement Minecraft's <code>/function</code> command which is used to execute a function.</p>
<pre><code class="language-java">LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();
arguments.put(&quot;function&quot;, new FunctionArgument());

CommandAPI.getInstance().register(&quot;runfunction&quot;, arguments, (sender, args) -&gt; {
    FunctionWrapper[] functions = (FunctionWrapper[]) args[0];

    //Run all functions that the user stated
    for(FunctionWrapper function : functions) {
        function.run();
    }

});
</code></pre>
<a class="header" href="print.html#permissions" id="permissions"><h1>Permissions</h1></a>
<p>Permissions let you control which players are allowed to execute which commands. This is handled using the <code>CommandPermission</code> class, which has the following uses:</p>
<ul>
<li>Requires OP to execute a command:
<pre><code class="language-java">CommandPermission.OP
</code></pre>
</li>
<li>Anyone can execute a command:
<pre><code class="language-java">CommandPermission.NONE
</code></pre>
</li>
<li>Requires a specific permission node to exeucte a command:
<pre><code class="language-java">CommandPermission.fromString(&quot;my.permission&quot;)
</code></pre>
</li>
</ul>
<a class="header" href="print.html#registering-permissions-to-commands" id="registering-permissions-to-commands"><h2>Registering permissions to commands</h2></a>
<p>To add a permission to a command, you can use any of the following constructors with a valid <code>CommandAPI</code> instance:</p>
<pre><code class="language-java">register(String commandName, CommandPermission, LinkedHashMap&lt;String, Argument&gt;, CommandExecutor);
register(String commandName, CommandPermission, String[] aliases, LinkedHashMap&lt;String, Argument&gt;, CommandExecutor)
</code></pre>
<a class="header" href="print.html#example---god-command-with-permissions" id="example---god-command-with-permissions"><h3>Example - /god command with permissions</h3></a>
<pre><code class="language-java">LinkedHashMap&lt;String, Argument&gt; arguments = new LinkedHashMap&lt;&gt;();

//Register the /god command with the permission node &quot;command.god&quot;
CommandAPI.getInstance().register(&quot;god&quot;, CommandPermission.fromString(&quot;command.god&quot;), arguments, (sender, args) -&gt; {
    if(sender instanceof Player) {
        ((Player) sender).setInvulnerable(true);
    }
});

//Add a target argument to allow /god &lt;target&gt;
arguments.put(&quot;target&quot;, new EntitySelectorArgument(EntitySelector.ONE_PLAYER));

//Require &quot;command.god&quot; permission node to execute /god &lt;target&gt;
CommandAPI.getInstance().register(&quot;god&quot;, CommandPermission.fromString(&quot;command.god&quot;), arguments, (sender, args) -&gt; {
    ((Player) args[0]).setInvulnerable(true);
});
</code></pre>
<a class="header" href="print.html#registering-permissions-to-arguments" id="registering-permissions-to-arguments"><h2>Registering permissions to arguments</h2></a>
<p>For further fine-tuning of permission management, the CommandAPI allows you to add permissions to individual arguments. This prevents the user from executing a command with a specific argument if they do not have a specific permission.</p>
<p>This is done by using the <code>.withPermission(CommandPermission)</code> method at the end of an argument.</p>
<p>If a player does not have the required permission:</p>
<ul>
<li>The argument hover text which suggests what the command is will not be shown</li>
<li>The player will receive an error if they try to type something in for that argument</li>
<li>Suggestions, such as a list of materials or players will not be shown</li>
</ul>
<a class="header" href="print.html#example---kill-command-with-argument-permissions" id="example---kill-command-with-argument-permissions"><h3>Example - /kill command with argument permissions</h3></a>
<pre><code class="language-java">LinkedHashMap&lt;String, ArgumentType&gt; arguments = new LinkedHashMap&lt;&gt;();

//Register /kill command normally. Since no permissions are applied, anyone can run this command
CommandAPI.getInstance().register(&quot;kill&quot;, arguments, (sender, args) -&gt; {
    ((Player) sender).setHealth(0);
});

//Adds the OP permission to the &quot;target&quot; argument. The sender requires OP to execute /kill &lt;target&gt;
arguments.put(&quot;target&quot;, new PlayerArgument().withPermission(CommandPermission.OP));

CommandAPI.getInstance().register(&quot;kill&quot;, arguments, (sender, args) -&gt; {
    ((Player) args[0]).setHealth(0);
});
</code></pre>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>As you can see, there are multiple ways of applying permissions to commands with arguments. In the /god command shown above, the permission was applied to the whole command. In the /kill command shown above, the permission was applied to the argument.</p>
<p>There's not really much difference between the two methods, but I personally would use argument permissions with <code>.withPermission()</code> as it has greater control over arguments.</p>
</blockquote>
<a class="header" href="print.html#faq-frequently-asked-questions" id="faq-frequently-asked-questions"><h1>FAQ <em>(Frequently Asked Questions)</em></h1></a>
<p>None! There are no frequently asked questions!</p>
<p><em>(If you feel like something should be here, feel free to open an issue on the CommandAPI's <a href="https://github.com/JorelAli/1.13-Command-API/issues">GitHub page</a>)</em></p>
<a class="header" href="print.html#afterword" id="afterword"><h1>Afterword</h1></a>
<blockquote>
<p><strong>Developer's Note:</strong></p>
<p>Congratulations on making it to the end of the documentation! I hope it was easy to understand everything ... I feel like it's a bit content heavy.</p>
<p>This project is by far my most worked on and probably the project I'm most proud of. You can read about the creation of the CommandAPI in my blog post <a href="https://www.jorelsblog.co.uk/Creating-the-CommandAPI/">here</a>.</p>
<p>I'd like to give credit to all of the people that have opened issues on GitHub, that have truly made it what it is now. In particular, I'd like to thank:</p>
<ul>
<li><strong>Combustible</strong> - My #1 supporter who motivated me to keep this project alive after its release</li>
<li><strong>DerpNerb</strong> - Giving me the idea to change this to a Maven project has made the CommandAPI that much more accessible for everyone</li>
<li><strong>Draycia</strong> - Suggesting that I put CommandSender objects inside DynamicSuggestedStringArguments allow that argument to be that much more powerful</li>
<li><strong>HielkeMinecraft</strong> - Improving the LocationArgument class, adding results and successes for commandsd and being a great bug reporter in general</li>
</ul>
<p>I never really expected more than 5 or so people to use this API, so it was truly an exciting time creating this for everyone - seeing everyone's responses, issues and problems helped me keep going.</p>
<p>In short, thank you, and everyone else that helped make the commandAPI what it is.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:3001");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload(true); // force reload from server (not from cache)
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script src="searchindex.js" type="text/javascript" charset="utf-8"></script>
        
        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
